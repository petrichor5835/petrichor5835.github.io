<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>udpæ‰“æ´æŠ€æœ¯</title>
    <link href="/2025/03/25/udp%E6%89%93%E6%B4%9E/"/>
    <url>/2025/03/25/udp%E6%89%93%E6%B4%9E/</url>
    
    <content type="html"><![CDATA[<h1>æ·±å…¥ç†è§£ NAT ç©¿é€ï¼šä¸€æ¬¡å½»åº•èŠé€ UDP æ‰“æ´çš„æŠ€æœ¯ä¸å“²å­¦</h1><blockquote><p>æœ¬æ–‡æºäºä¸€æ¬¡å’Œ ChatGPT çš„æ·±åº¦å¯¹è¯ï¼Œä» NAT ç©¿é€æœºåˆ¶èŠåˆ° UDP æ‰“æ´ä¸­çš„å“²å­¦æ€è€ƒï¼Œå¸¦ä½ ç”¨â€œæ°å¼€æ‰ç¢â€çš„æ–¹å¼ç†è§£ä¸ºä»€ä¹ˆå†…ç½‘ç©¿é€æœ‰æ—¶å€™é‚£ä¹ˆéš¾ï¼Œä¸ºä»€ä¹ˆæœ‰æ—¶å€™çªç„¶åˆæˆåŠŸäº†ã€‚</p></blockquote><hr><h2 id="ğŸ§ -NAT-ç©¿é€çš„æœ¬è´¨ï¼šä¸æ˜¯å‘åŒ…ï¼Œè€Œæ˜¯â€œå¼€é—¨â€">ğŸ§  NAT ç©¿é€çš„æœ¬è´¨ï¼šä¸æ˜¯å‘åŒ…ï¼Œè€Œæ˜¯â€œå¼€é—¨â€</h2><p>æˆ‘ä»¬å¸¸è¯´çš„ NATï¼ˆNetwork Address Translationï¼‰ä¼šé˜»æŒ¡å¤–éƒ¨è®¾å¤‡ä¸»åŠ¨è®¿é—®ä½ å†…ç½‘çš„æœºå™¨ï¼Œè¿™æ˜¯å®ƒçš„é˜²å¾¡æœºåˆ¶ã€‚ä½† UDP æ‰“æ´çš„é­”æ³•å°±åœ¨äºï¼š<strong>ä½ åªè¦ä¸»åŠ¨å‘ä¸€ä¸ªåŒ…å‡ºå»ï¼ŒNAT å°±ä¼šè®°ä½ä½ ï¼Œå…è®¸å¯¹æ–¹è¿›æ¥ã€‚</strong></p><h3 id="âœ…-æ‰“æ´çš„çœŸæ­£ç›®çš„ï¼šä¸æ˜¯è®©ç¬¬ä¸€ä¸ªåŒ…é€è¾¾ï¼Œè€Œæ˜¯è®©-NAT-æ„¿æ„ä¿¡ä»»ä¸€ä¸ªåœ°å€">âœ… æ‰“æ´çš„çœŸæ­£ç›®çš„ï¼šä¸æ˜¯è®©ç¬¬ä¸€ä¸ªåŒ…é€è¾¾ï¼Œè€Œæ˜¯è®© NAT æ„¿æ„ä¿¡ä»»ä¸€ä¸ªåœ°å€</h3><p>è¿™å¥è¯æ˜¯æ•´ç¯‡æ–‡ç« çš„æ ¸å¿ƒã€‚</p><ul><li>ä½ ç»™å¯¹æ–¹å‘ä¸€ä¸ª UDP åŒ…ï¼ŒNAT ä¼šè¯´ï¼šâ€œå¥½ï¼Œæˆ‘è®°ä½è¿™ä¸ªåœ°å€äº†ï¼Œä»¥åä»–å‘æ¥çš„åŒ…æˆ‘æ”¾è¡Œã€‚â€</li><li>å¯¹æ–¹ä¹Ÿåšä¸€æ ·çš„äº‹ï¼ŒNAT ä¹Ÿè®°ä½äº†ä½ </li><li>ç„¶åä½ ä»¬å°±èƒ½äº’ç›¸æ”¶å‘æ•°æ®ï¼Œç©¿é€æˆåŠŸï¼</li></ul><p>è‡³äºé‚£ä¸ªâ€œæ‰“æ´ç”¨çš„åŒ…â€æœ‰æ²¡æœ‰çœŸçš„é€è¾¾ï¼Ÿå…¶å®ä¸é‡è¦ï¼Œå®ƒåªæ˜¯â€œæ•²é—¨ç”¨çš„â€ã€‚</p><h2 id="ğŸ”-NAT-ç±»å‹ä¸æ‰“æ´æˆåŠŸç‡">ğŸ” NAT ç±»å‹ä¸æ‰“æ´æˆåŠŸç‡</h2><p>å¹¶ä¸æ˜¯æ‰€æœ‰ NAT éƒ½ä¸€æ ·â€œå¥½è¯´è¯â€ï¼Œä¸åŒçš„ NAT ç±»å‹å†³å®šäº†ä½ ç©¿é€çš„éš¾åº¦ï¼š</p><table><thead><tr><th>NAT ç±»å‹</th><th>å…¥ç«™å…è®¸æ¡ä»¶</th><th>æ‰“æ´æˆåŠŸç‡</th></tr></thead><tbody><tr><td>Full Cone</td><td>è°éƒ½èƒ½å‘å›æ¥</td><td>âœ…âœ…âœ… éå¸¸é«˜</td></tr><tr><td>Restricted Cone</td><td>å¿…é¡»ä½ å…ˆå‘è¿‡åŒ…ç»™è¿™ä¸ª IP</td><td>âœ…âœ… é«˜</td></tr><tr><td>Port-Restricted Cone</td><td>å¿…é¡»ä½ å…ˆå‘ç»™è¿™ä¸ª IP:Port</td><td>âœ… æœ‰å¸Œæœ›</td></tr><tr><td>Symmetric NAT</td><td>æ¯ä¸ªç›®æ ‡ IP éƒ½æ¢ç«¯å£ï¼Œä¸”åªè®¤åŒä¸€ç›®æ ‡</td><td>âŒ æä½</td></tr></tbody></table><p><strong>Symmetric NAT çš„é—®é¢˜åœ¨äºï¼šä½ å‘ç»™ä¸åŒçš„ IPï¼Œå®ƒå°±åˆ†é…ä¸åŒçš„å‡ºå£ç«¯å£ï¼Œå¯¹æ–¹çœ‹åˆ°çš„åœ°å€æ€»æ˜¯é”™çš„ã€‚</strong></p><h2 id="ğŸš§-æ‰“æ´å¤±è´¥çš„çœŸå®åŸå› ">ğŸš§ æ‰“æ´å¤±è´¥çš„çœŸå®åŸå› </h2><blockquote><p>â€œå¤±è´¥çš„æœ¬è´¨ï¼Œæ˜¯ä½ æ•²äº†é—¨ï¼Œä½†å¯¹æ–¹ NAT ä¸è®¤ä½ ã€‚â€</p></blockquote><p>æ¥çœ‹çœ‹æ‰“æ´å¤±è´¥æœ€ç»å…¸çš„æƒ…æ™¯ï¼š</p><ol><li>A ç»™ B å‘åŒ…ï¼ŒA çš„ NAT å»ºç«‹æ˜ å°„ï¼Œå…è®¸ B å‘å›</li><li>ä½† B çš„ NAT æ˜¯ Restricted Coneï¼Œä¸è®¤è¯† Aï¼Œæ‹’ç»è¿™ä¸ªåŒ… âŒ</li><li>B æ²¡æ”¶åˆ°ï¼Œå°±æ²¡æ³•å›åº”ï¼Œä¹Ÿä¸ä¼šå»ºç«‹ NAT è¡¨</li><li>åç»­ B å‘åŒ…ï¼ŒA çš„ NAT åˆä¸è®¤è¿™ä¸ªåœ°å€ï¼Œä¹Ÿæ‹’äº†</li></ol><p>äºæ˜¯åŒæ–¹éƒ½å‡†å¤‡å¥½äº†â€œæ¥æ”¶å›åŒ…â€ï¼Œå´ä»æœªçœŸæ­£æ”¶åˆ°è¿‡å¯¹æ–¹çš„åŒ…â€”â€”<strong>æ­»å±€ã€‚</strong></p><h2 id="âš¡-åŒæ—¶å‘åŒ…ï¼šæ‰“ç ´æ­»å±€çš„å…³é”®ç­–ç•¥">âš¡ åŒæ—¶å‘åŒ…ï¼šæ‰“ç ´æ­»å±€çš„å…³é”®ç­–ç•¥</h2><p>è§£å†³ä¹‹é“ï¼š<strong>Simultaneous Punchingï¼ˆåŒæ—¶æ‰“æ´ï¼‰</strong></p><p>ä¸­ç»§æœåŠ¡å™¨ S å‘Šè¯‰ A å’Œ B å¯¹æ–¹çš„å…¬ç½‘åœ°å€ï¼Œç„¶åæŒ‡æŒ¥ä»–ä»¬â€œåŒæ—¶å¼€å§‹å‘åŒ…â€ã€‚</p><p>åœ¨æŸä¸ªå¾®å¦™çš„æ—¶åˆ»ï¼š</p><ul><li>A å‘ B å‘åŒ…ï¼ŒNAT_A åˆ›å»ºæ˜ å°„</li><li>B å‘ A å‘åŒ…ï¼ŒNAT_B åˆ›å»ºæ˜ å°„</li></ul><p>å½“è¿™äº›æ˜ å°„éƒ½å­˜åœ¨ï¼ŒåŒ…åˆ°è¾¾æ—¶ NAT éƒ½æ„¿æ„æ”¾è¡Œï¼Œ<strong>é€šé“å»ºç«‹ï¼Œæ‰“æ´æˆåŠŸï¼</strong></p><p>ä¹‹åçš„æ¯ä¸ªåŒ…éƒ½å¯ä»¥é¡ºåˆ©æ”¶å‘äº†ã€‚</p><h2 id="ğŸ”„-å¿ƒè·³æœºåˆ¶ï¼šä¿æŒè¿æ¥çš„ç”Ÿå‘½çº¿">ğŸ”„ å¿ƒè·³æœºåˆ¶ï¼šä¿æŒè¿æ¥çš„ç”Ÿå‘½çº¿</h2><p>NAT æ˜ å°„æ˜¯ä¼šâ€œé—å¿˜â€çš„ï¼Œå®ƒä¸ä¼šæ°¸ä¹…è®°ä½ä¸€ä¸ªåœ°å€ï¼Œæ‰€ä»¥ï¼š</p><blockquote><p>æ‰“æ´æˆåŠŸåï¼ŒåŒæ–¹ä¼šå‘¨æœŸæ€§åœ°å‘é€å¿ƒè·³åŒ…ï¼Œé˜²æ­¢ NAT è¡¨è¿‡æœŸã€‚</p></blockquote><p>å¸¸è§åšæ³•æ˜¯ï¼šæ¯éš” 15~30 ç§’å‘é€ä¸€ä¸ªç©ºçš„ UDP åŒ…æˆ–è€…å° ping åŒ…ï¼Œè®© NAT è®¤ä¸ºè¿æ¥è¿˜åœ¨ç”¨ã€‚</p><h2 id="ğŸ”-è¿æ¥çš„å®šä¹‰ï¼šæˆ‘ä»¬çœŸçš„â€œè¿ä¸Šâ€äº†å—ï¼Ÿ">ğŸ” è¿æ¥çš„å®šä¹‰ï¼šæˆ‘ä»¬çœŸçš„â€œè¿ä¸Šâ€äº†å—ï¼Ÿ</h2><p>UDP æ˜¯æ— è¿æ¥çš„åè®®ï¼Œé‚£æ‰“æ´æˆåŠŸåç®—â€œå»ºç«‹è¿æ¥â€äº†å—ï¼Ÿ</p><ul><li>ä»æ“ä½œç³»ç»Ÿè§’åº¦ï¼šâŒ æ²¡æœ‰è¿æ¥çŠ¶æ€</li><li>ä» NAT å±‚è§’åº¦ï¼šâœ… æœ‰æ˜ å°„å­˜åœ¨ï¼ŒåŒ…å¯è¾¾</li><li>ä»åº”ç”¨è§’åº¦ï¼šâœ… å¯ä»¥é€šä¿¡ï¼Œå°±æ˜¯è¿æ¥</li></ul><blockquote><p>æ‰“æ´åçš„è¿æ¥ï¼Œå…¶å®æ˜¯â€œä½ çš„ NAT å’Œæˆ‘çš„ NATï¼ŒåŒæ­¥æ‰“å¼€äº†å…è®¸å½¼æ­¤é€šä¿¡çš„çª—æˆ·â€ï¼Œè€Œè¿™ä¸ªçª—æˆ·é æˆ‘ä»¬ä¸€ç›´â€œæ•²â€æ¥ç»´æŒã€‚</p></blockquote><h2 id="ğŸ¤”-Symmetric-NAT-å°±çœŸçš„æ— è§£å—ï¼Ÿ">ğŸ¤” Symmetric NAT å°±çœŸçš„æ— è§£å—ï¼Ÿ</h2><p>ä¹Ÿä¸æ˜¯ç»å¯¹æ— è§£ã€‚</p><blockquote><p>â€œSymmetric NAT å¤±è´¥çš„æœ¬è´¨ï¼Œæ˜¯ä½ æ‰¾é”™äº†é—¨ï¼Œæ•²é”™äº†çª—å£ã€‚â€</p></blockquote><p>ä½†åªè¦æ»¡è¶³ä»¥ä¸‹ä»»æ„æ¡ä»¶ï¼š</p><ul><li>Symmetric NAT æ°å¥½æ²¡æ¢ç«¯å£ï¼ˆæˆ–è€…å¤ç”¨äº†åŸæ¥çš„ï¼‰</li><li>å¯¹æ–¹ NAT åªè®¤ IPï¼Œä¸é‚£ä¹ˆä¸¥æ ¼</li></ul><p>é‚£ä¹Ÿèƒ½æ‰“æ´æˆåŠŸï¼Œå°½ç®¡æ¦‚ç‡æ¯”è¾ƒä½ã€‚</p><p>ç°å®ä¸­å¾ˆå¤š CGNATï¼ˆè¿è¥å•† NATï¼‰è¡Œä¸ºè¿‘ä¼¼ Restricted Coneï¼Œä¹Ÿå°±æ˜¯è¯´ï¼š<strong>Symmetric â‰  æ­»å±€ï¼Œåªæ˜¯ç„å­¦çº§æ‰“æ´åœºã€‚</strong></p><h2 id="âœï¸-ç»“è¯­ï¼šè¿™æ˜¯ä¸€æ¬¡æ·±å…¥åˆå¥½ç©çš„æ¢ç´¢">âœï¸ ç»“è¯­ï¼šè¿™æ˜¯ä¸€æ¬¡æ·±å…¥åˆå¥½ç©çš„æ¢ç´¢</h2><p>è¿™æ¬¡å…³äº NAT ç©¿é€çš„å¯¹è¯ï¼Œè®©æˆ‘ä»¬ä»â€œä¸ºä»€ä¹ˆè¿ä¸ä¸Šæœ‹å‹æœåŠ¡å™¨â€å‡ºå‘ï¼Œä¸€æ­¥æ­¥æ­å¼€ NAT è¡¨ã€æ‰“æ´ç­–ç•¥ã€æ§åˆ¶æœåŠ¡å™¨ã€æ˜ å°„ç»´æŒã€è¿æ¥å®šä¹‰â€¦â€¦</p><p>å¦‚æœä½ è§‰å¾—è¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¯å‘ï¼Œæ¬¢è¿ç‚¹èµ / æ”¶è— / è½¬å‘ / ç•™è¨€ï¼Œæˆ–å…³æ³¨æˆ‘åç»­å…³äº Tailscale / STUN / P2P ç½‘ç»œçš„å†…å®¹ã€‚</p><blockquote><p>æœ¬æ–‡å†…å®¹æ•´ç†è‡ªæˆ‘ä¸ ChatGPT çš„å¯¹è¯ï¼Œå¦‚éœ€è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>è®¡ç®—æœºç½‘ç»œ</category>
      
    </categories>
    
    
    <tags>
      
      <tag>è®¡ç®—æœºç½‘ç»œ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>è®°å½•ä¸€æ¬¡æ™ºæ…§ççˆåœºé¦†é¢„çº¦çš„æŠ˜è…¾</title>
    <link href="/2024/11/05/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1%E6%99%BA%E6%85%A7%E7%8F%9E%E7%8F%88%E5%9C%BA%E9%A6%86%E9%A2%84%E7%BA%A6%E7%9A%84%E6%8A%98%E8%85%BE/"/>
    <url>/2024/11/05/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1%E6%99%BA%E6%85%A7%E7%8F%9E%E7%8F%88%E5%9C%BA%E9%A6%86%E9%A2%84%E7%BA%A6%E7%9A%84%E6%8A%98%E8%85%BE/</url>
    
    <content type="html"><![CDATA[<h1>èƒŒæ™¯</h1><p>æ­¦æ±‰æŸå¤§å­¦çš„ç¾½æ¯›çƒåœºé¦†å¤ªç«çˆ†äº†ï¼Œæ¯æ™šå…­ç‚¹é¢„çº¦ï¼ŒåŸºæœ¬ç§’ç©ºï¼Œæˆ‘æ˜¯çœŸçš„æŠ¢ä¸åˆ°ï¼Œäºæ˜¯æƒ³å†™ä¸ªè„šæœ¬å»æŠ¢ã€‚</p><h1>æ€è·¯</h1><p>ä¸€å¼€å§‹æœ‰ä¸¤ä¸ªæ€è·¯ï¼Œä¸€æ˜¯æ­£å‘é€šè¿‡seleniumåº“æ¨¡æ‹Ÿæµè§ˆå™¨çš„è¡Œä¸ºï¼ŒäºŒæ˜¯é€†å‘æŠ“åŒ…åˆ†æè¯·æ±‚ã€‚</p><h1>é€‰æ‹©</h1><p>ç¬¬ä¸€ä¸ªæ€è·¯æ˜æ˜¾ç®€å•å¾ˆå¤šï¼Œä½†å½“æˆ‘åœ¨pcä¸Šæ‰“å¼€ä¿¡æ¯é—¨æˆ·ï¼Œå‘ç°ç«Ÿç„¶æ²¡æœ‰åœºé¦†é¢„çº¦è¿™ä¸ªåº”ç”¨ï¼Œéš¾é“åªæœ‰appç«¯æ‰æœ‰ï¼Ÿé‚£åªèƒ½æŠ“åŒ…åˆ†æè¯·æ±‚äº†ï¼Œä½†æ˜¯éå¸¸æ£˜æ‰‹çš„ç‚¹åœ¨äºï¼Œç‚¹å¼€é¢„çº¦æœ‰ä¸ªæ»‘å—éªŒè¯ç ï¼Œåªæœ‰è¿‡äº†è¿™ä¸ªéªŒè¯ç æ‰èƒ½æ‹¿åˆ°tokenï¼Œæ‹¿åˆ°tokenæ‰èƒ½å‘é€è®¢å•çš„è¯·æ±‚ï¼Œä½†æ˜¯æˆ‘æŠ“åŒ…å’‹è¿‡éªŒè¯ç â€¦æˆ‘å¤©çœŸçš„ä»¥ä¸ºéªŒè¯ç å›¾ç‰‡çš„åŒ…é‡Œæœ‰å¯¹åº”ç¼ºå£çš„åæ ‡ï¼Œæ‰¾äº†åŠå¤©å‘ç°å¹¶æ²¡æœ‰ã€‚å°±è¿™ç¬¬ä¸€æ­¥å°±å¡ä½äº†ï¼Œè¿˜æœ‰å…¶ä»–å‚æ•°çš„é€†å‘ï¼Œæƒ³æƒ³å°±è§‰å¾—å¤ªå¤æ‚äº†ï¼Œæƒ³æ”¾å¼ƒäº†ã€‚</p><p>å¶ç„¶æˆ‘æ‹¿èµ·æ‰‹æœºï¼Œåœ¨safariæœç´¢ä¿¡æ¯é—¨æˆ·ï¼Œæ‰“å¼€æ‰¾äº†ä¸€ä¸‹å‘ç°æœ‰åœºé¦†é¢„çº¦ï¼Œæˆ‘æŠŠurlå¤åˆ¶ä¸‹æ¥ï¼Œåœ¨ç”µè„‘æµè§ˆå™¨æ‰“å¼€ï¼Œç«Ÿç„¶èƒ½æ‰“å¼€ï¼Œè€Œä¸”å’Œæ‰‹æœºç«¯æ˜¯ä¸€æ ·çš„ï¼è¿™ä¸å°±æˆäº†å—å“ˆå“ˆå“ˆå“ˆå“ˆã€‚åœ¨ç”µè„‘ç«¯urlåé¢åŠ ä¸Š/mobile/homepageå°±åˆ°æ‰‹æœºç«¯çš„é¡µé¢äº†ã€‚</p><h1>å®ç°</h1><h2 id="åœ¨windowsä¸Šå®ç°">åœ¨windowsä¸Šå®ç°</h2><blockquote><p>å…ˆä¸è¯´åˆ«çš„ï¼Œé¦–å…ˆè¦è®©ç¨‹åºèƒ½å¤Ÿæ­£å¸¸è·‘èµ·æ¥ï¼Œè‡³å°‘è¦åœ¨æˆ‘çš„ç”µè„‘ä¸Šè·‘èµ·æ¥ã€‚</p></blockquote><h3 id="ä¾èµ–">ä¾èµ–</h3><p>å…ˆå¯¼å…¥ç›¸å…³çš„ä¾èµ–ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> time<br><span class="hljs-keyword">import</span> logging<br><span class="hljs-keyword">import</span> base64<br><span class="hljs-keyword">import</span> requests<br><span class="hljs-keyword">from</span> PIL <span class="hljs-keyword">import</span> Image<br><span class="hljs-keyword">from</span> os <span class="hljs-keyword">import</span> path<br><span class="hljs-keyword">from</span> io <span class="hljs-keyword">import</span> BytesIO<br><span class="hljs-keyword">from</span> findgap <span class="hljs-keyword">import</span> GetDistance<br><span class="hljs-keyword">from</span> selenium <span class="hljs-keyword">import</span> webdriver<br><span class="hljs-keyword">from</span> selenium.webdriver.chrome.service <span class="hljs-keyword">import</span> Service<br><span class="hljs-keyword">from</span> selenium.webdriver.common.by <span class="hljs-keyword">import</span> By<br><span class="hljs-keyword">from</span> selenium.webdriver.support.ui <span class="hljs-keyword">import</span> WebDriverWait<br><span class="hljs-keyword">from</span> selenium.webdriver.support <span class="hljs-keyword">import</span> expected_conditions <span class="hljs-keyword">as</span> EC<br><span class="hljs-keyword">from</span> selenium.webdriver.common.action_chains <span class="hljs-keyword">import</span> ActionChains<br><span class="hljs-keyword">from</span> selenium.common.exceptions <span class="hljs-keyword">import</span> (<br>    TimeoutException,<br>    NoSuchElementException,<br>    WebDriverException,<br>)<br></code></pre></td></tr></table></figure><h3 id="æ—¥å¿—">æ—¥å¿—</h3><p>å…ˆåœ¨å¼€å¤´å®šä¹‰ä¸€ä¸‹æ—¥å¿—ï¼Œè¿™æ ·æ‰èƒ½åœ¨æ¯ä¸€æ­¥çœ‹åˆ°è¾“å‡ºï¼Œæ–¹ä¾¿çŸ¥é“ä»£ç æ‰§è¡Œåˆ°å“ªäº†ï¼Œä»è€Œå®šä½é”™è¯¯ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#åˆå§‹åŒ–æ—¥å¿—</span><br>logger = logging.getLogger()<br>logger.setLevel(logging.INFO)<br>console_handler = logging.StreamHandler()<br>console_handler.setLevel(logging.INFO)<br>formatter = logging.Formatter(<br>    <span class="hljs-string">&quot;[%(asctime)s %(levelname)s] %(message)s&quot;</span>, datefmt=<span class="hljs-string">&quot;%H:%M:%S&quot;</span><br>)<br><br>console_handler.setFormatter(formatter)<br>logger.addHandler(console_handler)<br><br></code></pre></td></tr></table></figure><h3 id="å…¨å±€å˜é‡">å…¨å±€å˜é‡</h3><p>å®šä¹‰ä¸€ä¸‹ä»£ç è¦ç”¨çš„å…¨å±€å˜é‡ï¼Œåé¢è¦ä¿®æ”¹çš„æ—¶å€™åªéœ€è¦ä¿®æ”¹å˜é‡çš„å€¼å°±å¥½ã€‚</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs py">USERNAME = <span class="hljs-string">&quot;ç”¨æˆ·å&quot;</span><br>PASSWORD = <span class="hljs-string">&quot;å¯†ç &quot;</span><br><span class="hljs-comment">#æ˜¯å¦é€‰æ‹©åä¸€å¤©(ä¹Ÿå°±æ˜¯é¢„çº¦ä¸‹ä¸€å¤©)</span><br>NEXTDAY = <span class="hljs-number">1</span><br><span class="hljs-comment">#åœºåœ°å·</span><br>COURT_NUM = <span class="hljs-number">6</span><br><span class="hljs-comment">#çƒç±»</span><br>TPYE_ID = <span class="hljs-number">21</span><br>TYPE_MAP = &#123;<br>    <span class="hljs-number">21</span>: <span class="hljs-string">&quot;ç¾½æ¯›çƒ&quot;</span>,<br>    <span class="hljs-number">22</span>: <span class="hljs-string">&quot;ä¹’ä¹“çƒ&quot;</span><br>&#125;<br><span class="hljs-comment">#æ—¶é—´æ®µ</span><br>PERIOD = [<span class="hljs-number">10</span>]<br>PERIOD_MAP =&#123;<br>    <span class="hljs-number">1</span>: <span class="hljs-string">&quot;8:00-9:00&quot;</span>,<br>    <span class="hljs-number">2</span>: <span class="hljs-string">&quot;9:00-10:00&quot;</span>,<br>    <span class="hljs-number">3</span>: <span class="hljs-string">&quot;10:00-11:00&quot;</span>,<br>    <span class="hljs-number">4</span>: <span class="hljs-string">&quot;11:00-12:00&quot;</span>,<br>    <span class="hljs-number">5</span>: <span class="hljs-string">&quot;12:00-13:00&quot;</span>,<br>    <span class="hljs-number">6</span>: <span class="hljs-string">&quot;13:00-14:00&quot;</span>,<br>    <span class="hljs-number">7</span>: <span class="hljs-string">&quot;14:00-15:00&quot;</span>,<br>    <span class="hljs-number">8</span>: <span class="hljs-string">&quot;15:00-16:00&quot;</span>,<br>    <span class="hljs-number">9</span>: <span class="hljs-string">&quot;16:00-17:00&quot;</span>,<br>    <span class="hljs-number">10</span>: <span class="hljs-string">&quot;17:00-18:00&quot;</span>,<br>    <span class="hljs-number">11</span>: <span class="hljs-string">&quot;18:00-19:00&quot;</span>,<br>    <span class="hljs-number">12</span>: <span class="hljs-string">&quot;19:00-20:00&quot;</span>,<br>    <span class="hljs-number">13</span>: <span class="hljs-string">&quot;20:00-21:00&quot;</span><br>&#125;<br><br>HOME_URL = <span class="hljs-string">&quot;https://zhlj.whu.edu.cn/mobile/homepage&quot;</span><br>LOGIN_URL = <span class="hljs-string">&quot;https://cas.whu.edu.cn/authserver/login?service=https://zhlj.whu.edu.cn/mobile/person/caslogin?b=/homepage&quot;</span><br><span class="hljs-comment">#typeId=21 ä¸ºç¾½æ¯›çƒ 22ä¸ºä¹’ä¹“çƒ</span><br>APPOINTMENT_URL = <span class="hljs-string">f&quot;https://gym.whu.edu.cn/hsdsqhafive/pages/index/reserve?typeId=<span class="hljs-subst">&#123;TPYE_ID&#125;</span>&quot;</span><br></code></pre></td></tr></table></figure><h3 id="ä¸»è¦ç±»">ä¸»è¦ç±»</h3><p>å®šä¹‰ä¸€ä¸‹å®ç°è¿™ä¸ªç¨‹åºçš„ç±»ï¼Œç„¶ååœ¨ç±»ä¸­å®šä¹‰ç›¸å…³æ–¹æ³•ã€‚</p><h4 id="åˆå§‹åŒ–">åˆå§‹åŒ–</h4><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs py"><span class="hljs-keyword">global</span> chrome_options<br>chrome_options = webdriver.ChromeOptions()<br>chrome_options.add_argument(<span class="hljs-string">&quot;--no-sandbox&quot;</span>)<br>chrome_options.add_argument(<span class="hljs-string">&quot;--disable-gpu&quot;</span>)<br>chrome_options.add_argument(<span class="hljs-string">&quot;--disable-dev-shm-usage&quot;</span>)<br><span class="hljs-variable language_">self</span>.driver = <span class="hljs-literal">None</span><br></code></pre></td></tr></table></figure><h4 id="ç™»é™†ç±»">ç™»é™†ç±»</h4><p>æ–¹æ³•å¾ˆç®€å•ï¼Œé€šè¿‡xpathå®šä½å…ƒç´ ï¼Œç„¶åç‚¹å‡»å°±è¡Œäº†ã€‚</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs py"><span class="hljs-keyword">def</span> <span class="hljs-title function_">login</span>(<span class="hljs-params">self</span>) -&gt; <span class="hljs-built_in">bool</span>:<br>    <span class="hljs-keyword">try</span>:<br>        logging.info(<span class="hljs-string">f&quot;--- å¼€å§‹å°è¯•ç™»å½•ï¼š<span class="hljs-subst">&#123;USERNAME&#125;</span>---&quot;</span>)<br><br>        username_field = WebDriverWait(<span class="hljs-variable language_">self</span>.driver, <span class="hljs-number">20</span>).until(<br>            EC.presence_of_element_located((By.XPATH, <span class="hljs-string">&#x27;/html/body/div/div[2]/div[3]/div[2]/div[5]/div[2]/form/div[1]/input&#x27;</span>))<br>        )<br>        <span class="hljs-comment"># self.simulate_typing(username_field, self.username)</span><br>        username_field.send_keys(USERNAME)<br>        password_field = WebDriverWait(<span class="hljs-variable language_">self</span>.driver, <span class="hljs-number">20</span>).until(<br>            EC.presence_of_element_located((By.XPATH, <span class="hljs-string">&#x27;/html/body/div/div[2]/div[3]/div[2]/div[5]/div[2]/form/div[2]/input[1]&#x27;</span>))<br>        )<br>        <span class="hljs-comment"># self.simulate_typing(password_field, self.password)</span><br>        password_field.send_keys(PASSWORD)<br>        submit_button = WebDriverWait(<span class="hljs-variable language_">self</span>.driver, <span class="hljs-number">20</span>).until(<br>            EC.element_to_be_clickable((By.XPATH, <span class="hljs-string">&#x27;/html/body/div/div[2]/div[3]/div[2]/div[5]/div[2]/form/p[2]/button&#x27;</span>))<br>        )<br>        submit_button.click()<br><br>        WebDriverWait(<span class="hljs-variable language_">self</span>.driver, <span class="hljs-number">10</span>).until(<br>            EC.presence_of_element_located((By.XPATH, <span class="hljs-string">&#x27;//*[@id=&quot;swiper-apply&quot;]/h3/span[3]&#x27;</span>))<br>        )<br>        logging.info(<span class="hljs-string">&quot;ç™»å½•æˆåŠŸ&quot;</span>)<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span><br>    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:<br>        logging.error(<span class="hljs-string">f&quot;ç™»å½•å¤±è´¥ï¼š<span class="hljs-subst">&#123;e&#125;</span>&quot;</span>)<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>  <br></code></pre></td></tr></table></figure><h4 id="é¢„çº¦ç±»">é¢„çº¦ç±»</h4><p>ç™»é™†ä¹‹åï¼Œæ–°å¼€ä¸€ä¸ªé¡µé¢å°±ä¿ç•™ç›¸å…³cookieäº†ï¼Œæ‰€ä»¥æ— éœ€éªŒè¯äº†ï¼Œç›´æ¥å¯¼èˆªåˆ°é¢„çº¦é¡µé¢ï¼Œå†æ ¹æ®éœ€æ±‚ç‚¹å‡»ç‚¹å‡»å°±å¥½å•¦ï¼Œå®åœ¨æ˜¯å¤ªç®€å•å•¦ã€‚</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs py"><span class="hljs-keyword">def</span> <span class="hljs-title function_">appointment</span>(<span class="hljs-params">self</span>) -&gt; <span class="hljs-built_in">bool</span>:<br>    <span class="hljs-keyword">try</span>:<br>        logging.info(<span class="hljs-string">f&quot;--- å¼€å§‹å°è¯•é¢„çº¦ ---&quot;</span>)<br>        <span class="hljs-variable language_">self</span>.driver.execute_script(<span class="hljs-string">&quot;window.open(&#x27;&#x27;);&quot;</span>)<br>        <span class="hljs-variable language_">self</span>.driver.switch_to.window(<span class="hljs-variable language_">self</span>.driver.window_handles[-<span class="hljs-number">1</span>])<br>        logging.info(<span class="hljs-string">&quot;å¯¼èˆªåˆ°é¢„çº¦é¡µé¢&quot;</span>)<br>        <span class="hljs-variable language_">self</span>.driver.get(APPOINTMENT_URL)<br>        time.sleep(<span class="hljs-number">0.5</span>)<br>        <span class="hljs-comment">#åˆ¤æ–­æ˜¯å¦åˆ°18ç‚¹ï¼Œå¦‚æœæ²¡åˆ°å°±æ¯éš”0.5såˆ·æ–°ä¸€æ¬¡ç›´åˆ°18ç‚¹</span><br>        <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>            now = time.localtime(time.time())<br>            <span class="hljs-keyword">if</span> now.tm_hour == <span class="hljs-number">18</span>:<br>                <span class="hljs-keyword">break</span><br>            time.sleep(<span class="hljs-number">0.5</span>)<br>            <span class="hljs-variable language_">self</span>.driver.refresh()<br>        <span class="hljs-comment"># ç‚¹å‡»åä¸€å¤©</span><br>        <span class="hljs-keyword">if</span> NEXTDAY:<br>            <span class="hljs-variable language_">self</span>.driver.find_element(By.XPATH, <span class="hljs-string">&#x27;//*[@id=&quot;app&quot;]/uni-app/uni-page/uni-page-wrapper/uni-page-body/uni-view/uni-view[1]/uni-view[1]/uni-view[3]&#x27;</span>).click()<br>        <span class="hljs-keyword">try</span>:<br><br>            time.sleep(<span class="hljs-number">0.5</span>)<br>            logging.info(<span class="hljs-string">&quot;å¼€å§‹é€‰æ‹©åœºåœ°&quot;</span>)<br><br>            <span class="hljs-comment"># é€‰æ‹©æ¾å›­ä½“è‚²é¦†</span><br>            <span class="hljs-variable language_">self</span>.driver.find_element(By.XPATH, <span class="hljs-string">&#x27;//*[@id=&quot;app&quot;]/uni-app/uni-page/uni-page-wrapper/uni-page-body/uni-view/uni-view[2]/uni-view[2]/uni-view/uni-view[1]&#x27;</span>).click()<br>            time.sleep(<span class="hljs-number">0.5</span>)<br>            <span class="hljs-comment"># é€‰æ‹©åœºåœ°</span><br>            <span class="hljs-variable language_">self</span>.driver.find_element(By.XPATH, <span class="hljs-string">f&#x27;//*[@class=&quot;uni-collapse-item__wrap is--transition&quot;]/uni-view/uni-view/uni-view[<span class="hljs-subst">&#123;COURT_NUM+<span class="hljs-number">1</span>&#125;</span>]/uni-view[5]/uni-text/span&#x27;</span>).click()<br>            time.sleep(<span class="hljs-number">0.5</span>)<br>            <span class="hljs-comment"># é€‰æ‹©æ—¶é—´æ®µ</span><br>            <span class="hljs-keyword">for</span> PERIOD <span class="hljs-keyword">in</span> PERIOD:<br>                <span class="hljs-variable language_">self</span>.driver.find_element(By.XPATH, <span class="hljs-string">f&#x27;//*[@id=&quot;app&quot;]/uni-app/uni-page/uni-page-wrapper/uni-page-body/uni-view/uni-view[1]/uni-view[2]/uni-view[3]/uni-view[<span class="hljs-subst">&#123;PERIOD&#125;</span>]&#x27;</span>).click()<br>            time.sleep(<span class="hljs-number">0.5</span>)<br>            <span class="hljs-comment"># ç‚¹å‡»é¢„çº¦</span><br>            <span class="hljs-variable language_">self</span>.driver.find_element(By.XPATH, <span class="hljs-string">&#x27;//*[@id=&quot;app&quot;]/uni-app/uni-page/uni-page-wrapper/uni-page-body/uni-view/uni-view[1]/uni-view[3]/uni-view[2]/uni-view[3]&#x27;</span>).click()<br><br>        <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:<br>            logging.error(<span class="hljs-string">f&quot;æ“ä½œå¤±è´¥ï¼š<span class="hljs-subst">&#123;e&#125;</span>&quot;</span>)<br></code></pre></td></tr></table></figure><h4 id="æ‰“ç ">æ‰“ç </h4><p>æˆ‘ä¹Ÿä»¥ä¸ºå¾ˆç®€å•ï¼Œä½†æ˜¯ï¼Œè¿˜æ˜¯é€ƒä¸è¿‡éªŒè¯ç å•Šï¼Œä¸‡æ¶çš„éªŒè¯ç ã€‚</p><img src="/2024/11/05/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1%E6%99%BA%E6%85%A7%E7%8F%9E%E7%8F%88%E5%9C%BA%E9%A6%86%E9%A2%84%E7%BA%A6%E7%9A%84%E6%8A%98%E8%85%BE/verify.png" class="" title="éªŒè¯ç "><p>è¿‡è¿™æ»‘å—éªŒè¯æœ‰ä¸¤ä¸ªæ€è·¯,ä¸€ä¸ªæ˜¯æœ¬åœ°å†™ä¸€ä¸ªè„šæœ¬ï¼Œé€šè¿‡opencvç®—å‡ºæ»‘å—è¦ç§»åŠ¨çš„è·ç¦»ï¼Œæˆ–è€…è°ƒç”¨ç¬¬ä¸‰æ–¹æ‰“ç å¹³å°çš„æ¥å£ï¼Œç›´æ¥è¿”å›è·ç¦»ã€‚</p><p>æˆ‘æ‰¾åˆ°äº†csdn â€œ<a href="https://blog.csdn.net/qq_44419449">éª‘ç€é’è›™ä¸€èµ·äºŒ</a>â€å¤§ä½¬å†™çš„è„šæœ¬ï¼Œç”¨äº†ä¸€ä¸‹å‘ç°è®¡ç®—æ•ˆæœéå¸¸ä¸é”™ï¼Œæ„Ÿè°¢è¿™ä½å¤§ä½¬ï¼ŒåŸå¸–ï¼š<a href="https://blog.csdn.net/qq_44419449/article/details/127414044">https://blog.csdn.net/qq_44419449/article/details/127414044</a></p><p>æˆ‘ä¿®æ”¹äº†ä¸€ä¸‹ï¼Œè„šæœ¬å¦‚ä¸‹(<a href="http://findgap.py">findgap.py</a>)</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs py"><span class="hljs-keyword">import</span> cv2<br><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">handel_img</span>(<span class="hljs-params">img</span>):<br>    imgGray = cv2.cvtColor(img, cv2.COLOR_RGBA2GRAY)  <span class="hljs-comment"># è½¬ç°åº¦å›¾</span><br>    imgBlur = cv2.GaussianBlur(imgGray, (<span class="hljs-number">5</span>, <span class="hljs-number">5</span>), <span class="hljs-number">1</span>)  <span class="hljs-comment"># é«˜æ–¯æ¨¡ç³Š</span><br>    imgCanny = cv2.Canny(imgBlur, <span class="hljs-number">60</span>, <span class="hljs-number">60</span>)  <span class="hljs-comment"># Cannyç®—å­è¾¹ç¼˜æ£€æµ‹</span><br>    <span class="hljs-keyword">return</span> imgCanny<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">match</span>(<span class="hljs-params">img_jpg_path, img_png_path</span>):<br>    <span class="hljs-comment"># è¯»å–å›¾åƒ</span><br>    img_jpg = cv2.imread(img_jpg_path, cv2.IMREAD_UNCHANGED)<br>    img_png = cv2.imread(img_png_path, cv2.IMREAD_UNCHANGED)<br>    img = handel_img(img_jpg)<br>    small_img = handel_img(img_png)<br>    res_TM_CCOEFF_NORMED = cv2.matchTemplate(img, small_img, <span class="hljs-number">3</span>)<br>    value = cv2.minMaxLoc(res_TM_CCOEFF_NORMED)<br>    value = value[<span class="hljs-number">3</span>][<span class="hljs-number">0</span>]  <span class="hljs-comment"># è·å–åˆ°ç§»åŠ¨è·ç¦»</span><br>    <span class="hljs-keyword">return</span> value<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">GetDistance</span>(<span class="hljs-params">background_path,gap_path</span>):<br>    distance = <span class="hljs-keyword">match</span>(background_path, gap_path)<br>    distance = distance /<span class="hljs-number">480</span> * <span class="hljs-number">345</span> + <span class="hljs-number">12</span> -<span class="hljs-number">10</span><br>    <span class="hljs-keyword">return</span> distance<br><br></code></pre></td></tr></table></figure><p>ä¸»ç¨‹åºä¸­è°ƒç”¨è¯¥ç¨‹åºä¸­çš„GetDistanceå‡½æ•°å³å¯</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs py">canvas_data_url = <span class="hljs-variable language_">self</span>.driver.execute_script(<span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">var canvas = document.querySelector(&#x27;canvas&#x27;);  // å®šä½åˆ° canvas å…ƒç´ </span><br><span class="hljs-string">return canvas.toDataURL(&#x27;image/png&#x27;);  // å°† canvas å†…å®¹è½¬æ¢ä¸º PNG æ ¼å¼çš„ data URL</span><br><span class="hljs-string">&quot;&quot;&quot;</span>)<br>canvas_base64 = canvas_data_url.split(<span class="hljs-string">&#x27;,&#x27;</span>)[<span class="hljs-number">1</span>]<br><span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;background.png&quot;</span>, <span class="hljs-string">&quot;wb&quot;</span>) <span class="hljs-keyword">as</span> f:<br>    f.write(base64.b64decode(canvas_base64))<br>logging.info(<span class="hljs-string">&quot;è·å–èƒŒæ™¯å›¾ç‰‡æˆåŠŸ&quot;</span>)<br>gap = <span class="hljs-variable language_">self</span>.driver.find_element(By.XPATH, <span class="hljs-string">&#x27;//*[@id=&quot;dx_captcha_basic_sub-slider_1&quot;]/img&#x27;</span>)<br>gap_url = gap.get_attribute(<span class="hljs-string">&quot;src&quot;</span>)<br>gap_img = Image.<span class="hljs-built_in">open</span>(BytesIO(requests.get(gap_url).content))<br>gap_img.save(<span class="hljs-string">&quot;gap.png&quot;</span>)<br>logging.info(<span class="hljs-string">&quot;è·å–ç¼ºå£å›¾ç‰‡æˆåŠŸ&quot;</span>)<br><br><span class="hljs-comment">#è°ƒç”¨opencvè®¡ç®—è·ç¦»</span><br>distance = GetDistance(<span class="hljs-string">&quot;background.png&quot;</span>, <span class="hljs-string">&quot;gap.png&quot;</span>)<br>logging.info(<span class="hljs-string">f&quot;è®¡ç®—è·ç¦»ä¸º<span class="hljs-subst">&#123;distance&#125;</span>&quot;</span>)<br><br><span class="hljs-comment">#æ¨¡æ‹Ÿæ»‘åŠ¨(å¤šæ¬¡)</span><br>slider = <span class="hljs-variable language_">self</span>.driver.find_element(By.XPATH, <span class="hljs-string">&#x27;//*[@id=&quot;dx_captcha_basic_slider_1&quot;]&#x27;</span>)<br>action = ActionChains(<span class="hljs-variable language_">self</span>.driver)<br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">5</span>):<br>    action.click_and_hold(slider).move_by_offset(xoffset=distance+<span class="hljs-number">2</span>*i-<span class="hljs-number">4</span>, yoffset=<span class="hljs-number">0</span>).release().perform()<br>    time.sleep(<span class="hljs-number">0.5</span>)<br>    <span class="hljs-keyword">try</span>:<br>        canvas = <span class="hljs-variable language_">self</span>.driver.find_element(By.XPATH, <span class="hljs-string">&#x27;//*[@id=&quot;dx_captcha_basic_bg_1&quot;]/canvas&#x27;</span>)<br>    <span class="hljs-keyword">except</span> Exception:<br>        logging.info(<span class="hljs-string">&quot;éªŒè¯æˆåŠŸ&quot;</span>)<br>        <span class="hljs-keyword">break</span><br>    <span class="hljs-keyword">if</span> i == <span class="hljs-number">4</span>:<br>        logging.error(<span class="hljs-string">&quot;éªŒè¯å¤±è´¥&quot;</span>)<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span><br>logging.info(<span class="hljs-string">f&quot;<span class="hljs-subst">&#123;TYPE_MAP[TPYE_ID]&#125;</span>é¢„çº¦æˆåŠŸ, åœºåœ°å·ï¼š<span class="hljs-subst">&#123;COURT_NUM&#125;</span>, æ—¶é—´æ®µï¼š<span class="hljs-subst">&#123;PERIOD_MAP[PERIOD]&#125;</span>&quot;</span>)<br></code></pre></td></tr></table></figure><h4 id="å®Œæ•´ç¨‹åº">å®Œæ•´ç¨‹åº</h4><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br></pre></td><td class="code"><pre><code class="hljs py"><span class="hljs-comment"># -*- coding: utf-8 -*-</span><br><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> time<br><span class="hljs-keyword">import</span> logging<br><span class="hljs-keyword">import</span> base64<br><span class="hljs-keyword">import</span> requests<br><span class="hljs-keyword">from</span> PIL <span class="hljs-keyword">import</span> Image<br><span class="hljs-keyword">from</span> os <span class="hljs-keyword">import</span> path<br><span class="hljs-keyword">from</span> io <span class="hljs-keyword">import</span> BytesIO<br><span class="hljs-keyword">from</span> findgap <span class="hljs-keyword">import</span> GetDistance<br><span class="hljs-keyword">from</span> selenium <span class="hljs-keyword">import</span> webdriver<br><span class="hljs-keyword">from</span> selenium.webdriver.chrome.service <span class="hljs-keyword">import</span> Service<br><span class="hljs-keyword">from</span> selenium.webdriver.common.by <span class="hljs-keyword">import</span> By<br><span class="hljs-keyword">from</span> selenium.webdriver.support.ui <span class="hljs-keyword">import</span> WebDriverWait<br><span class="hljs-keyword">from</span> selenium.webdriver.support <span class="hljs-keyword">import</span> expected_conditions <span class="hljs-keyword">as</span> EC<br><span class="hljs-keyword">from</span> selenium.webdriver.common.action_chains <span class="hljs-keyword">import</span> ActionChains<br><span class="hljs-keyword">from</span> selenium.common.exceptions <span class="hljs-keyword">import</span> (<br>    TimeoutException,<br>    NoSuchElementException,<br>    WebDriverException,<br>)<br><br><br><span class="hljs-comment">#åˆå§‹åŒ–æ—¥å¿—</span><br>logger = logging.getLogger()<br>logger.setLevel(logging.INFO)<br>console_handler = logging.StreamHandler()<br>console_handler.setLevel(logging.INFO)<br>formatter = logging.Formatter(<br>    <span class="hljs-string">&quot;[%(asctime)s %(levelname)s] %(message)s&quot;</span>, datefmt=<span class="hljs-string">&quot;%H:%M:%S&quot;</span><br>)<br><br>console_handler.setFormatter(formatter)<br>logger.addHandler(console_handler)<br><br>USERNAME = <span class="hljs-string">&quot;ç”¨æˆ·å&quot;</span><br>PASSWORD = <span class="hljs-string">&quot;å¯†ç &quot;</span><br><span class="hljs-comment">#æ˜¯å¦é€‰æ‹©åä¸€å¤©(ä¹Ÿå°±æ˜¯é¢„çº¦ä¸‹ä¸€å¤©)</span><br>NEXTDAY = <span class="hljs-number">1</span><br><span class="hljs-comment">#åœºåœ°å·</span><br>COURT_NUM = <span class="hljs-number">6</span><br><span class="hljs-comment">#çƒç±»</span><br>TPYE_ID = <span class="hljs-number">21</span><br>TYPE_MAP = &#123;<br>    <span class="hljs-number">21</span>: <span class="hljs-string">&quot;ç¾½æ¯›çƒ&quot;</span>,<br>    <span class="hljs-number">22</span>: <span class="hljs-string">&quot;ä¹’ä¹“çƒ&quot;</span><br>&#125;<br><span class="hljs-comment">#æ—¶é—´æ®µ</span><br>PERIOD = [<span class="hljs-number">10</span>]<br>PERIOD_MAP =&#123;<br>    <span class="hljs-number">1</span>: <span class="hljs-string">&quot;8:00-9:00&quot;</span>,<br>    <span class="hljs-number">2</span>: <span class="hljs-string">&quot;9:00-10:00&quot;</span>,<br>    <span class="hljs-number">3</span>: <span class="hljs-string">&quot;10:00-11:00&quot;</span>,<br>    <span class="hljs-number">4</span>: <span class="hljs-string">&quot;11:00-12:00&quot;</span>,<br>    <span class="hljs-number">5</span>: <span class="hljs-string">&quot;12:00-13:00&quot;</span>,<br>    <span class="hljs-number">6</span>: <span class="hljs-string">&quot;13:00-14:00&quot;</span>,<br>    <span class="hljs-number">7</span>: <span class="hljs-string">&quot;14:00-15:00&quot;</span>,<br>    <span class="hljs-number">8</span>: <span class="hljs-string">&quot;15:00-16:00&quot;</span>,<br>    <span class="hljs-number">9</span>: <span class="hljs-string">&quot;16:00-17:00&quot;</span>,<br>    <span class="hljs-number">10</span>: <span class="hljs-string">&quot;17:00-18:00&quot;</span>,<br>    <span class="hljs-number">11</span>: <span class="hljs-string">&quot;18:00-19:00&quot;</span>,<br>    <span class="hljs-number">12</span>: <span class="hljs-string">&quot;19:00-20:00&quot;</span>,<br>    <span class="hljs-number">13</span>: <span class="hljs-string">&quot;20:00-21:00&quot;</span><br>&#125;<br><br>HOME_URL = <span class="hljs-string">&quot;https://zhlj.whu.edu.cn/mobile/homepage&quot;</span><br>LOGIN_URL = <span class="hljs-string">&quot;https://cas.whu.edu.cn/authserver/login?service=https://zhlj.whu.edu.cn/mobile/person/caslogin?b=/homepage&quot;</span><br><span class="hljs-comment">#typeId=21 ä¸ºç¾½æ¯›çƒ 22ä¸ºä¹’ä¹“çƒ</span><br>APPOINTMENT_URL = <span class="hljs-string">f&quot;https://gym.whu.edu.cn/hsdsqhafive/pages/index/reserve?typeId=<span class="hljs-subst">&#123;TPYE_ID&#125;</span>&quot;</span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">zhljBrowser</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>) -&gt; <span class="hljs-literal">None</span>:<br>        logging.info(<span class="hljs-string">&quot;å¯åŠ¨ Selenium&quot;</span>)<br><br>        <span class="hljs-keyword">global</span> chrome_options<br>        <span class="hljs-keyword">global</span> chromedriver_path<br><br>        chrome_options = webdriver.ChromeOptions()<br>        <span class="hljs-comment"># chrome_options.add_argument(&quot;--headless&quot;)</span><br>        chrome_options.add_argument(<span class="hljs-string">&quot;--no-sandbox&quot;</span>)<br>        chrome_options.add_argument(<span class="hljs-string">&quot;--disable-gpu&quot;</span>)<br>        chrome_options.add_argument(<span class="hljs-string">&quot;--disable-dev-shm-usage&quot;</span>)<br><br>        <span class="hljs-comment"># chromedriver_path = shutil.which(&quot;chromedriver&quot;)</span><br><br>        <span class="hljs-comment"># if not chromedriver_path:</span><br>        <span class="hljs-comment">#     logging.error(&quot;chromedriver æœªæ‰¾åˆ°ï¼Œè¯·ç¡®ä¿å·²å®‰è£…å¹¶é…ç½®æ­£ç¡®çš„è·¯å¾„ã€‚&quot;)</span><br>        <span class="hljs-comment">#     exit(1)</span><br>        <span class="hljs-variable language_">self</span>.driver = <span class="hljs-literal">None</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">login</span>(<span class="hljs-params">self</span>) -&gt; <span class="hljs-built_in">bool</span>:<br>        <span class="hljs-keyword">try</span>:<br>            logging.info(<span class="hljs-string">f&quot;--- å¼€å§‹å°è¯•ç™»å½•ï¼š<span class="hljs-subst">&#123;USERNAME&#125;</span>---&quot;</span>)<br><br>            username_field = WebDriverWait(<span class="hljs-variable language_">self</span>.driver, <span class="hljs-number">20</span>).until(<br>                EC.presence_of_element_located((By.XPATH, <span class="hljs-string">&#x27;/html/body/div/div[2]/div[3]/div[2]/div[5]/div[2]/form/div[1]/input&#x27;</span>))<br>            )<br>            <span class="hljs-comment"># self.simulate_typing(username_field, self.username)</span><br>            username_field.send_keys(USERNAME)<br>            password_field = WebDriverWait(<span class="hljs-variable language_">self</span>.driver, <span class="hljs-number">20</span>).until(<br>                EC.presence_of_element_located((By.XPATH, <span class="hljs-string">&#x27;/html/body/div/div[2]/div[3]/div[2]/div[5]/div[2]/form/div[2]/input[1]&#x27;</span>))<br>            )<br>            <span class="hljs-comment"># self.simulate_typing(password_field, self.password)</span><br>            password_field.send_keys(PASSWORD)<br>            submit_button = WebDriverWait(<span class="hljs-variable language_">self</span>.driver, <span class="hljs-number">20</span>).until(<br>                EC.element_to_be_clickable((By.XPATH, <span class="hljs-string">&#x27;/html/body/div/div[2]/div[3]/div[2]/div[5]/div[2]/form/p[2]/button&#x27;</span>))<br>            )<br>            submit_button.click()<br><br>            WebDriverWait(<span class="hljs-variable language_">self</span>.driver, <span class="hljs-number">10</span>).until(<br>                EC.presence_of_element_located((By.XPATH, <span class="hljs-string">&#x27;//*[@id=&quot;swiper-apply&quot;]/h3/span[3]&#x27;</span>))<br>            )<br>            logging.info(<span class="hljs-string">&quot;ç™»å½•æˆåŠŸ&quot;</span>)<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span><br>        <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:<br>            logging.error(<span class="hljs-string">f&quot;ç™»å½•å¤±è´¥ï¼š<span class="hljs-subst">&#123;e&#125;</span>&quot;</span>)<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>           <br>    <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">appointment</span>(<span class="hljs-params">self</span>) -&gt; <span class="hljs-built_in">bool</span>:<br>        <span class="hljs-keyword">try</span>:<br>            logging.info(<span class="hljs-string">f&quot;--- å¼€å§‹å°è¯•é¢„çº¦ ---&quot;</span>)<br>            <span class="hljs-variable language_">self</span>.driver.execute_script(<span class="hljs-string">&quot;window.open(&#x27;&#x27;);&quot;</span>)<br>            <span class="hljs-variable language_">self</span>.driver.switch_to.window(<span class="hljs-variable language_">self</span>.driver.window_handles[-<span class="hljs-number">1</span>])<br>            logging.info(<span class="hljs-string">&quot;å¯¼èˆªåˆ°é¢„çº¦é¡µé¢&quot;</span>)<br>            <span class="hljs-variable language_">self</span>.driver.get(APPOINTMENT_URL)<br>            time.sleep(<span class="hljs-number">0.5</span>)<br>            <span class="hljs-comment">#åˆ¤æ–­æ˜¯å¦åˆ°18ç‚¹ï¼Œå¦‚æœæ²¡åˆ°å°±æ¯éš”0.5såˆ·æ–°ä¸€æ¬¡ç›´åˆ°18ç‚¹</span><br>            <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>                now = time.localtime(time.time())<br>                <span class="hljs-keyword">if</span> now.tm_hour == <span class="hljs-number">18</span>:<br>                    <span class="hljs-keyword">break</span><br>                time.sleep(<span class="hljs-number">0.5</span>)<br>                <span class="hljs-variable language_">self</span>.driver.refresh()<br>            <span class="hljs-comment"># ç‚¹å‡»åä¸€å¤©</span><br>            <span class="hljs-keyword">if</span> NEXTDAY:<br>                <span class="hljs-variable language_">self</span>.driver.find_element(By.XPATH, <span class="hljs-string">&#x27;//*[@id=&quot;app&quot;]/uni-app/uni-page/uni-page-wrapper/uni-page-body/uni-view/uni-view[1]/uni-view[1]/uni-view[3]&#x27;</span>).click()<br>            <span class="hljs-keyword">try</span>:<br><br>                time.sleep(<span class="hljs-number">0.5</span>)<br>                logging.info(<span class="hljs-string">&quot;å¼€å§‹é€‰æ‹©åœºåœ°&quot;</span>)<br><br>                <span class="hljs-comment"># é€‰æ‹©æ¾å›­ä½“è‚²é¦†</span><br>                <span class="hljs-variable language_">self</span>.driver.find_element(By.XPATH, <span class="hljs-string">&#x27;//*[@id=&quot;app&quot;]/uni-app/uni-page/uni-page-wrapper/uni-page-body/uni-view/uni-view[2]/uni-view[2]/uni-view/uni-view[1]&#x27;</span>).click()<br>                time.sleep(<span class="hljs-number">0.5</span>)<br>                <span class="hljs-comment"># é€‰æ‹©åœºåœ°</span><br>                <span class="hljs-variable language_">self</span>.driver.find_element(By.XPATH, <span class="hljs-string">f&#x27;//*[@class=&quot;uni-collapse-item__wrap is--transition&quot;]/uni-view/uni-view/uni-view[<span class="hljs-subst">&#123;COURT_NUM+<span class="hljs-number">1</span>&#125;</span>]/uni-view[5]/uni-text/span&#x27;</span>).click()<br>                time.sleep(<span class="hljs-number">0.5</span>)<br>                <span class="hljs-comment"># é€‰æ‹©æ—¶é—´æ®µ</span><br>                <span class="hljs-keyword">for</span> PERIOD <span class="hljs-keyword">in</span> PERIOD:<br>                    <span class="hljs-variable language_">self</span>.driver.find_element(By.XPATH, <span class="hljs-string">f&#x27;//*[@id=&quot;app&quot;]/uni-app/uni-page/uni-page-wrapper/uni-page-body/uni-view/uni-view[1]/uni-view[2]/uni-view[3]/uni-view[<span class="hljs-subst">&#123;PERIOD&#125;</span>]&#x27;</span>).click()<br>                time.sleep(<span class="hljs-number">0.5</span>)<br>                <span class="hljs-comment"># ç‚¹å‡»é¢„çº¦</span><br>                <span class="hljs-variable language_">self</span>.driver.find_element(By.XPATH, <span class="hljs-string">&#x27;//*[@id=&quot;app&quot;]/uni-app/uni-page/uni-page-wrapper/uni-page-body/uni-view/uni-view[1]/uni-view[3]/uni-view[2]/uni-view[3]&#x27;</span>).click()<br><br>            <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:<br>                logging.error(<span class="hljs-string">f&quot;æ“ä½œå¤±è´¥ï¼š<span class="hljs-subst">&#123;e&#125;</span>&quot;</span>)<br>            time.sleep(<span class="hljs-number">0.5</span>)<br>            <span class="hljs-comment">#æ»‘å—éªŒè¯</span><br>            <span class="hljs-comment">#è·å–èƒŒæ™¯å›¾ç‰‡å’Œç¼ºå£å›¾ç‰‡</span><br>            canvas_data_url = <span class="hljs-variable language_">self</span>.driver.execute_script(<span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">            var canvas = document.querySelector(&#x27;canvas&#x27;);  // å®šä½åˆ° canvas å…ƒç´ </span><br><span class="hljs-string">            return canvas.toDataURL(&#x27;image/png&#x27;);  // å°† canvas å†…å®¹è½¬æ¢ä¸º PNG æ ¼å¼çš„ data URL</span><br><span class="hljs-string">        &quot;&quot;&quot;</span>)<br>            canvas_base64 = canvas_data_url.split(<span class="hljs-string">&#x27;,&#x27;</span>)[<span class="hljs-number">1</span>]<br>            <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;background.png&quot;</span>, <span class="hljs-string">&quot;wb&quot;</span>) <span class="hljs-keyword">as</span> f:<br>                f.write(base64.b64decode(canvas_base64))<br>            logging.info(<span class="hljs-string">&quot;è·å–èƒŒæ™¯å›¾ç‰‡æˆåŠŸ&quot;</span>)<br>            gap = <span class="hljs-variable language_">self</span>.driver.find_element(By.XPATH, <span class="hljs-string">&#x27;//*[@id=&quot;dx_captcha_basic_sub-slider_1&quot;]/img&#x27;</span>)<br>            gap_url = gap.get_attribute(<span class="hljs-string">&quot;src&quot;</span>)<br>            gap_img = Image.<span class="hljs-built_in">open</span>(BytesIO(requests.get(gap_url).content))<br>            gap_img.save(<span class="hljs-string">&quot;gap.png&quot;</span>)<br>            logging.info(<span class="hljs-string">&quot;è·å–ç¼ºå£å›¾ç‰‡æˆåŠŸ&quot;</span>)<br><br>            <span class="hljs-comment">#è°ƒç”¨opencvè®¡ç®—è·ç¦»</span><br>            distance = GetDistance(<span class="hljs-string">&quot;background.png&quot;</span>, <span class="hljs-string">&quot;gap.png&quot;</span>)<br>            logging.info(<span class="hljs-string">f&quot;è®¡ç®—è·ç¦»ä¸º<span class="hljs-subst">&#123;distance&#125;</span>&quot;</span>)<br><br>            <span class="hljs-comment">#æ¨¡æ‹Ÿæ»‘åŠ¨(å¤šæ¬¡)</span><br>            slider = <span class="hljs-variable language_">self</span>.driver.find_element(By.XPATH, <span class="hljs-string">&#x27;//*[@id=&quot;dx_captcha_basic_slider_1&quot;]&#x27;</span>)<br>            action = ActionChains(<span class="hljs-variable language_">self</span>.driver)<br>            <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">5</span>):<br>                action.click_and_hold(slider).move_by_offset(xoffset=distance+<span class="hljs-number">2</span>*i-<span class="hljs-number">4</span>, yoffset=<span class="hljs-number">0</span>).release().perform()<br>                time.sleep(<span class="hljs-number">0.5</span>)<br>                <span class="hljs-keyword">try</span>:<br>                    canvas = <span class="hljs-variable language_">self</span>.driver.find_element(By.XPATH, <span class="hljs-string">&#x27;//*[@id=&quot;dx_captcha_basic_bg_1&quot;]/canvas&#x27;</span>)<br>                <span class="hljs-keyword">except</span> Exception:<br>                    logging.info(<span class="hljs-string">&quot;éªŒè¯æˆåŠŸ&quot;</span>)<br>                    <span class="hljs-keyword">break</span><br>                <span class="hljs-keyword">if</span> i == <span class="hljs-number">4</span>:<br>                    logging.error(<span class="hljs-string">&quot;éªŒè¯å¤±è´¥&quot;</span>)<br>                    <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span><br>            logging.info(<span class="hljs-string">f&quot;<span class="hljs-subst">&#123;TYPE_MAP[TPYE_ID]&#125;</span>é¢„çº¦æˆåŠŸ, åœºåœ°å·ï¼š<span class="hljs-subst">&#123;COURT_NUM&#125;</span>, æ—¶é—´æ®µï¼š<span class="hljs-subst">&#123;PERIOD_MAP[PERIOD]&#125;</span>&quot;</span>)<br>            <span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;æŒ‰ä»»æ„é”®ç»§ç»­&quot;</span>)<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span>  <br>        <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:<br>            logging.error(<span class="hljs-string">f&quot;é¢„çº¦å¤±è´¥ï¼š<span class="hljs-subst">&#123;e&#125;</span>&quot;</span>)<br>    <br>       <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">run</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">try</span>:<br>            <span class="hljs-variable language_">self</span>.driver = webdriver.Chrome(options=chrome_options)<br>            <span class="hljs-variable language_">self</span>.driver.get(LOGIN_URL)<br>            <span class="hljs-variable language_">self</span>.login()<br>            <span class="hljs-variable language_">self</span>.appointment()<br>        <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:<br>            logging.error(<span class="hljs-string">f&quot;å‘ç”Ÿé”™è¯¯ï¼š<span class="hljs-subst">&#123;e&#125;</span>&quot;</span>)<br><br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    zhlj_browser = zhljBrowser()<br>    zhlj_browser.run()<br></code></pre></td></tr></table></figure><h3 id="å®šæ—¶ä»»åŠ¡">å®šæ—¶ä»»åŠ¡</h3><p>ä»£ç å†™å®Œäº†ï¼Œè¿è¡Œäº†ä¸€ä¸‹æ²¡é—®é¢˜ï¼Œæ¥ç€åœ¨Windowsä¸­è®¾ç½®å®šæ—¶ä»»åŠ¡(ä»»åŠ¡è®¡åˆ’ç¨‹åº)å³å¯ã€‚</p><h2 id="éƒ¨ç½²åœ¨äº‘ç«¯">éƒ¨ç½²åœ¨äº‘ç«¯</h2><blockquote><p>äººçš„æ¬²æœ›æ˜¯ä¸æ–­è†¨èƒ€çš„ï¼Œä¸ºä»€ä¹ˆé¢„çº¦ä¸€å®šè¦å¼€ç€ç”µè„‘ï¼Œæˆ‘æƒ³è¦å…³æ‰ç”µè„‘ä¹Ÿèƒ½é¢„çº¦ã€‚è¿™æ ·æˆ‘åœ¨é¢„çº¦æ—¶é—´æ®µæœ‰äº‹ä¹Ÿèƒ½å®Œæˆé¢„çº¦äº†ã€‚</p></blockquote><h3 id="åˆæ­¥å°è¯•">åˆæ­¥å°è¯•</h3><p>æ­£å¥½æˆ‘æœ‰ä¸€å°2æ ¸4Gçš„äº‘æœåŠ¡å™¨ï¼ŒUbuntuæ“ä½œç³»ç»Ÿï¼Œäºæ˜¯æˆ‘ç¨å¾®ä¿®æ”¹äº†ä¸€ä¸‹ä»£ç ä»¥è®©å®ƒå¯ä»¥åœ¨Linuxæ“ä½œç³»ç»Ÿæ­£å¸¸è¿è¡Œï¼Œæˆ‘è¿˜å®‰è£…äº†é’é¾™é¢æ¿æ¥ç®¡ç†è„šæœ¬å¹¶å®šæ—¶æ‰§è¡Œè„šæœ¬ã€‚å½“æˆ‘ç‚¹å¼€å§‹è¿è¡Œçš„æ—¶å€™å‘ç°ï¼Œç¨‹åºå§‹ç»ˆè¿‡ä¸äº†ç™»é™†ï¼Œæ’æŸ¥ä¹‹åå‘ç°æ˜¯å› ä¸ºç™»é™†çš„æ—¶å€™åˆè·³éªŒè¯ç äº†ï¼</p><h3 id="è§£å†³ä¸»è¦é—®é¢˜">è§£å†³ä¸»è¦é—®é¢˜</h3><p>ä¸ºå•¥æˆ‘åœ¨æœ¬åœ°è¿è¡Œçš„æ—¶å€™ï¼Œç™»é™†æ²¡æœ‰è·³éªŒè¯ç ï¼Œè€Œåœ¨äº‘æœåŠ¡å™¨ä¸Šå°±æœ‰éªŒè¯ç ï¼Ÿå¾ˆå¿«æˆ‘æƒ³åˆ°äº†æ˜¯æ ¡å›­ç½‘çš„åŸå› ï¼Œåœ¨æ ¡å›­ç½‘çš„ç¯å¢ƒä¸‹ç™»é™†ä¸éœ€è¦éªŒè¯ç ï¼Œè€Œéæ ¡å›­ç½‘çš„ç¯å¢ƒç™»é™†å°±æœ‰éªŒè¯ç ã€‚</p><p>æˆ‘é¦–å…ˆæƒ³åˆ°çš„è¿˜æ˜¯æ‰“ç ï¼Œä½†æ˜¯è¿™ä¸ªéªŒè¯ç éå¸¸ä¹‹æ¶å¿ƒï¼Œå®ƒçš„ç±»å‹ä¸ä¸€è‡´ï¼Œæœ‰æ»‘å—ï¼Œé€‰æ–‡å­—ï¼Œé€‰å›¾å½¢ï¼Œæœ‰é€‰ä¸€ä¸ªåæ ‡çš„ï¼Œè¿˜æœ‰é€‰å¤šä¸ªçš„ï¼Œæœ€å…³é”®çš„æ˜¯ï¼Œæ¯æ¬¡çš„ç±»å‹è¿˜æ˜¯éšæœºçš„ï¼Œè¿™æ„å‘³ç€æœ¬åœ°æ‰“ç éœ€è¦éå¸¸å¤šçš„ä»£ç ï¼Œè€Œç”¨æ‰“ç å¹³å°å‘¢ï¼Œè¿˜è¦å…ˆåˆ¤æ–­éªŒè¯ç çš„ç±»å‹ï¼Œè¿™å®ç°èµ·æ¥å¤ªå¤æ‚äº†ã€‚</p><p>æ—¢ç„¶è¦æ ¡å›­ç½‘çš„ç¯å¢ƒï¼Œé‚£æˆ‘å°±æä¸ªä»£ç†ï¼Œè®©æœåŠ¡å™¨çš„æµé‡éƒ½é€šè¿‡ä»£ç†è®¿é—®å­¦æ ¡çš„æœåŠ¡å™¨ï¼Œè¿™æ ·ä¸å°±è¡Œäº†ã€‚é—®é¢˜åœ¨äºæˆ‘æ²¡æœ‰å¤„åœ¨æ ¡å›­ç½‘ç¯å¢ƒçš„å…¬ç½‘æœåŠ¡å™¨ï¼Œè½¬å‘ä¸äº†æµé‡ã€‚</p><p>åˆè¦ä½œç½¢äº†å—ï¼Œçªç„¶æƒ³åˆ°å¤§ä¸€æè¿‡å­¦æ ¡çš„VPNï¼Œå½“æ—¶ä»¥ä¸ºæ˜¯æ‹¿æ¥å¯Œå¼ºç”¨çš„ï¼Œä½†æ˜¯æ²¡ç”¨å°±ä¸¢æ‰äº†ã€‚çªç„¶æƒ³åˆ°è¿™VPNæ˜¯ä¸æ˜¯ç»™æ ¡å¤–çš„è®¾å¤‡æä¾›çš„é€šé“ï¼Œäºæ˜¯å»ç”¨äº†ä¸€ä¸‹ï¼Œå‘ç°çœŸè¡Œã€‚</p><p>å½“æˆ‘ä¸‹è½½Ubuntuç³»ç»Ÿçš„atrustå®¢æˆ·ç«¯æ—¶ï¼Œå‘ç°æ€ä¹ˆéƒ½å®‰è£…ä¸æˆåŠŸï¼Œé—®äº†ä¸€ä¸‹å®¢æœè¯´æ˜¯è¦æœ‰guiï¼Œä¸èƒ½çº¯å‘½ä»¤è¡Œï¼Œäºæ˜¯æˆ‘å®‰è£…äº†Ubuntuæ¡Œé¢ï¼ˆä¸æ˜¯Ubuntuæ¡Œé¢ç³»ç»Ÿï¼‰ï¼Œä½†æ˜¯å¯åŠ¨è½¯ä»¶çš„æ—¶å€™æ€»æ˜¯æ˜¾ç¤ºæ ¸å¿ƒæœªå¯åŠ¨ï¼ŒæŠ˜è…¾äº†å¥½ä¹…éƒ½ä¸æˆåŠŸã€‚æˆ‘çŒœæµ‹éœ€è¦Ubuntuæ¡Œé¢ç³»ç»Ÿæ‰è¡Œï¼Œä½†æ˜¯äº‘æœåŠ¡å™¨æ²¡æœ‰è¯¥é•œåƒï¼Œä¸Šä¼ è‡ªå®šä¹‰é•œåƒè¿˜è¦å¼€é€šå¯¹è±¡å­˜å‚¨æœåŠ¡ï¼Œè¦100å—ã€‚</p><blockquote><p>æ²¡æœ‰åŠæ³•äº†ï¼ŒWindows Serverï¼Œå¯åŠ¨ï¼ï¼ï¼</p></blockquote><p>æˆ‘æ˜¯çœŸä¸æƒ³ç”¨Windowsï¼Œå› ä¸ºåªæœ‰4Gå†…å­˜ï¼Œè‚¯å®šä¸æµç•…ã€‚ä½†å¥½åœ¨æœ‰4Gå†…å­˜ï¼Œä¸ç„¶Windowséƒ½å¯åŠ¨ä¸äº†ï¼Œå¼€æœºå†…å­˜å°±ç™¾åˆ†ä¹‹äº”åä»¥ä¸Šäº†ã€‚</p><h3 id="å…¶ä»–é—®é¢˜">å…¶ä»–é—®é¢˜</h3><h4 id="atrustå®¢æˆ·ç«¯ä¿æ´»">atrustå®¢æˆ·ç«¯ä¿æ´»</h4><p>åœ¨ä¸€æ®µæ—¶é—´ï¼ˆå…·ä½“å‡ ä¸ªå°æ—¶æ²¡æµ‹è¯•è¿‡ï¼‰æ²¡æœ‰å‘å­¦æ ¡çš„ç½‘ç«™å‘é€è¯·æ±‚æ—¶ï¼Œatrustå®¢æˆ·ç«¯ä¼šè‡ªåŠ¨æ–­å¼€è¿æ¥ã€‚æ‰€ä»¥è¦æœ‰ä¸€ä¸ªè„šæœ¬å®šæ—¶å‘é€è¯·æ±‚ï¼Œæˆ‘æ˜¯ç”¨powershellå®ç°çš„ã€‚</p><figure class="highlight ps1"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs ps1"><span class="hljs-comment"># PowerShell script to send HTTPS request</span><br><span class="hljs-variable">$url</span> = <span class="hljs-string">&quot;https://www.whu.edu.cn&quot;</span><br><span class="hljs-variable">$response</span> = <span class="hljs-built_in">Invoke-WebRequest</span> <span class="hljs-literal">-Uri</span> <span class="hljs-variable">$url</span> <span class="hljs-literal">-Method</span> Get<br></code></pre></td></tr></table></figure><h4 id="æ— å¤´æ¨¡å¼è¿è¡Œ">æ— å¤´æ¨¡å¼è¿è¡Œ</h4><p>seleniumé»˜è®¤æƒ…å†µä¸‹ä¼šå¯åŠ¨æµè§ˆå™¨è¿›è¡Œï¼Œè¿™å°±éœ€è¦æœ‰å›¾å½¢ç•Œé¢ï¼Œä½†æ˜¯æ–­å¼€è¿œç¨‹æ¡Œé¢å°±ä¸æ”¯æŒguiäº†ï¼Œäºæ˜¯è„šæœ¬ä¼šè¿è¡Œå¤±è´¥ï¼ˆå¡åœ¨æ­£åœ¨å¯åŠ¨seleniumï¼‰ã€‚</p><p>éœ€è¦åœ¨chromedriveræ·»åŠ å¦‚ä¸‹å‚æ•°</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">chrome_options.add_argument(<span class="hljs-string">&quot;--headless&quot;</span>)<br>chrome_options.add_argument(<span class="hljs-string">&quot;user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.88 Safari/537.36&quot;</span>)<br></code></pre></td></tr></table></figure><h3 id="è¿è¡Œç»“æœ">è¿è¡Œç»“æœ</h3><img src="/2024/11/05/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1%E6%99%BA%E6%85%A7%E7%8F%9E%E7%8F%88%E5%9C%BA%E9%A6%86%E9%A2%84%E7%BA%A6%E7%9A%84%E6%8A%98%E8%85%BE/result.png" class="" title="è¿è¡Œç»“æœ"><h1>åæ§½</h1><p>ä¸ªäººè®¤ä¸ºæœ€ä¼˜é›…çš„æ–¹æ¡ˆæ˜¯Ubuntu+é’é¾™é¢æ¿ï¼Œä½†æ˜¯atrustä¸æ”¯æŒçº¯å‘½ä»¤è¡Œï¼Œä¸ºä»€ä¹ˆä¸æ”¯æŒçº¯å‘½ä»¤è¡Œå•Šå•Šå•Šå•Šï¼</p>]]></content>
    
    
    <categories>
      
      <category>å®ç”¨è„šæœ¬</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å®ç”¨è„šæœ¬</tag>
      
      <tag>python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Linuxç›‘æ§æµé‡å¹¶å‘é€åˆ°tg</title>
    <link href="/2024/10/10/Linux%E7%9B%91%E6%8E%A7%E6%B5%81%E9%87%8F%E5%B9%B6%E5%8F%91%E9%80%81%E5%88%B0tg/"/>
    <url>/2024/10/10/Linux%E7%9B%91%E6%8E%A7%E6%B5%81%E9%87%8F%E5%B9%B6%E5%8F%91%E9%80%81%E5%88%B0tg/</url>
    
    <content type="html"><![CDATA[<blockquote><p>ä¸ºäº†é˜²æ­¢è‡ªå·±æœºå­çš„æµé‡çªç„¶è·‘å…‰ï¼Œæµé‡ç›‘æ§è¿˜æ˜¯éå¸¸æœ‰å¿…è¦çš„ï¼Œä¸ºäº†çœå»æ¯å¤©æ‰“å¼€ç½‘ç«™å»checkçš„çƒ¦æ¼ï¼Œä¾¿æœ‰äº†ä»¥ä¸‹çš„æ–¹æ³•ã€‚</p></blockquote><p>ä¸ºäº†å®ç°æ¯éš”ä¸€å¤©å‘ Telegram æœºå™¨äººå‘é€å½“å‰å·²ç”¨æµé‡çš„é€šçŸ¥ï¼Œä½ å¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤è¿›è¡Œæ“ä½œï¼š</p><h3 id="æ­¥éª¤-1-å®‰è£…ä¾èµ–å·¥å…·">æ­¥éª¤ 1: å®‰è£…ä¾èµ–å·¥å…·</h3><p>é¦–å…ˆï¼Œç¡®ä¿ä½ å·²ç»å®‰è£…äº†ä»¥ä¸‹å·¥å…·ï¼š</p><ol><li><p><strong><code>vnstat</code></strong>ï¼šç”¨äºç›‘æ§ç½‘ç»œæµé‡ã€‚</p><ul><li><p>å®‰è£…å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> apt install vnstat<br></code></pre></td></tr></table></figure></li></ul></li><li><p><strong><code>telegram-send</code></strong>ï¼šç”¨äºé€šè¿‡ Telegram å‘é€æ¶ˆæ¯ã€‚</p><ul><li><p>å¯ä»¥ä½¿ç”¨aptå®‰è£…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> apt install telegram-send<br></code></pre></td></tr></table></figure></li><li><p>ä¹Ÿå¯ä½¿ç”¨pipï¼Œå¦‚æœæ²¡æœ‰å®‰è£…pipå’Œpythonè¦å…ˆå®‰è£…ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> apt update<br><span class="hljs-built_in">sudo</span> apt install python3-pip<br></code></pre></td></tr></table></figure></li><li><p>å®‰è£…å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">pip install telegram-send<br></code></pre></td></tr></table></figure></li></ul></li></ol><h3 id="æ­¥éª¤-2-é…ç½®-telegram-send">æ­¥éª¤ 2: é…ç½® <code>telegram-send</code></h3><p>ä½ éœ€è¦ä½¿ç”¨ <code>telegram-send</code> é…ç½®ä½ çš„ Telegram æœºå™¨äººï¼Œä»¥ä¾¿å®ƒèƒ½å¤Ÿå‘é€æ¶ˆæ¯ã€‚</p><ol><li><p>è¿è¡Œä»¥ä¸‹å‘½ä»¤å¼€å§‹é…ç½®ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">telegram-send --configure<br></code></pre></td></tr></table></figure></li><li><p>æ ¹æ®æç¤ºï¼Œè¾“å…¥tokenç­‰å‘½ä»¤ï¼Œå°† <code>telegram-send</code> ä¸ Telegram æœºå™¨äººå…³è”ã€‚</p></li></ol><h3 id="æ­¥éª¤-3-åˆ›å»ºæµé‡ç›‘æ§è„šæœ¬">æ­¥éª¤ 3: åˆ›å»ºæµé‡ç›‘æ§è„šæœ¬</h3><p>æ¥ä¸‹æ¥ï¼Œç¼–å†™ä¸€ä¸ª Bash è„šæœ¬ï¼Œç”¨äºæ¯éš”ä¸€å¤©æ£€æŸ¥æµé‡å¹¶å°†ç»“æœé€šè¿‡ Telegram å‘é€ã€‚</p><ol><li><p>åˆ›å»ºè„šæœ¬æ–‡ä»¶ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">nano ~/send_traffic.sh<br></code></pre></td></tr></table></figure></li><li><p>åœ¨è„šæœ¬ä¸­è¾“å…¥ä»¥ä¸‹å†…å®¹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-meta">#!/bin/bash</span><br><br><span class="hljs-comment"># ç½‘ç»œæ¥å£åç§° (æ ¹æ®å®é™…æ¥å£ä¿®æ”¹)</span><br>INTERFACE=<span class="hljs-string">&quot;ens5&quot;</span><br><br><span class="hljs-comment"># è·å–å½“å¤©çš„æ€»æµé‡ (ç¬¬6åˆ—)</span><br>traffic_today=$(vnstat --oneline -i <span class="hljs-variable">$INTERFACE</span> | awk -F<span class="hljs-string">&#x27;;&#x27;</span> <span class="hljs-string">&#x27;&#123;print $6&#125;&#x27;</span>)<br><br><span class="hljs-comment"># è·å–å½“æœˆçš„æ€»æµé‡ (ç¬¬11åˆ—)</span><br>traffic_month=$(vnstat --oneline -i <span class="hljs-variable">$INTERFACE</span> | awk -F<span class="hljs-string">&#x27;;&#x27;</span> <span class="hljs-string">&#x27;&#123;print $11&#125;&#x27;</span>)<br><br><span class="hljs-comment"># è°ƒè¯•ä¿¡æ¯ï¼šè¾“å‡ºåŸå§‹æµé‡æ•°æ®</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;åŸå§‹å½“å¤©æµé‡: <span class="hljs-variable">$traffic_today</span>&quot;</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;åŸå§‹å½“æœˆæµé‡: <span class="hljs-variable">$traffic_month</span>&quot;</span><br><br><span class="hljs-comment"># æ£€æŸ¥æ˜¯å¦è·å–åˆ°äº†æµé‡æ•°æ®</span><br><span class="hljs-keyword">if</span> [[ -z <span class="hljs-string">&quot;<span class="hljs-variable">$traffic_today</span>&quot;</span> || -z <span class="hljs-string">&quot;<span class="hljs-variable">$traffic_month</span>&quot;</span> ]]; <span class="hljs-keyword">then</span><br>  <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;æœªè·å–åˆ°æµé‡æ•°æ®&quot;</span><br>  traffic_today=0<br>  traffic_month=0  <span class="hljs-comment"># è®¾ç½®é»˜è®¤å€¼</span><br><span class="hljs-keyword">fi</span><br><span class="hljs-comment">#vnstatè¾“å‡ºæµé‡ä¸è¶³1GBæ—¶å•ä½æ˜¯MBï¼Œè¶…è¿‡1GBæ—¶å•ä½æ˜¯GBï¼Œæ‰€ä»¥è¦æ ¹æ®å•ä½ä½œä¸€ä¸ªåˆ¤æ–­</span><br><span class="hljs-comment"># æ ¹æ®å•ä½å¤„ç†å½“å¤©æµé‡çš„æ•°å€¼</span><br><span class="hljs-keyword">if</span> [[ <span class="hljs-string">&quot;<span class="hljs-variable">$traffic_today</span>&quot;</span> == *<span class="hljs-string">&quot;MiB&quot;</span>* ]]; <span class="hljs-keyword">then</span><br>  traffic_today_value=$(<span class="hljs-built_in">echo</span> <span class="hljs-variable">$traffic_today</span> | sed -E <span class="hljs-string">&#x27;s/([0-9.]+) MiB/\1/&#x27;</span>)<br>  traffic_today_gb=$(<span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;scale=2; <span class="hljs-variable">$traffic_today_value</span> / 1024&quot;</span> | bc)  <span class="hljs-comment"># MiB è½¬æ¢ä¸º GB</span><br>  traffic_today_unit=<span class="hljs-string">&quot;MiB&quot;</span><br><span class="hljs-keyword">elif</span> [[ <span class="hljs-string">&quot;<span class="hljs-variable">$traffic_today</span>&quot;</span> == *<span class="hljs-string">&quot;GiB&quot;</span>* ]]; <span class="hljs-keyword">then</span><br>  traffic_today_value=$(<span class="hljs-built_in">echo</span> <span class="hljs-variable">$traffic_today</span> | sed -E <span class="hljs-string">&#x27;s/([0-9.]+) GiB/\1/&#x27;</span>)<br>  traffic_today_gb=<span class="hljs-variable">$traffic_today_value</span>  <span class="hljs-comment"># å¦‚æœæ˜¯ GBï¼Œä¿æŒåŸå€¼</span><br>  traffic_today_unit=<span class="hljs-string">&quot;GiB&quot;</span><br><span class="hljs-keyword">else</span><br>  traffic_today_value=0<br>  traffic_today_gb=0<br><span class="hljs-keyword">fi</span><br><br><span class="hljs-comment"># æ ¹æ®å•ä½å¤„ç†å½“æœˆæµé‡çš„æ•°å€¼</span><br><span class="hljs-keyword">if</span> [[ <span class="hljs-string">&quot;<span class="hljs-variable">$traffic_month</span>&quot;</span> == *<span class="hljs-string">&quot;MiB&quot;</span>* ]]; <span class="hljs-keyword">then</span><br>  traffic_month_value=$(<span class="hljs-built_in">echo</span> <span class="hljs-variable">$traffic_month</span> | sed -E <span class="hljs-string">&#x27;s/([0-9.]+) MiB/\1/&#x27;</span>)<br>  traffic_month_gb=$(<span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;scale=2; <span class="hljs-variable">$traffic_month_value</span> / 1024&quot;</span> | bc)  <span class="hljs-comment"># MiB è½¬æ¢ä¸º GB</span><br>  traffic_month_unit=<span class="hljs-string">&quot;MiB&quot;</span><br><span class="hljs-keyword">elif</span> [[ <span class="hljs-string">&quot;<span class="hljs-variable">$traffic_month</span>&quot;</span> == *<span class="hljs-string">&quot;GiB&quot;</span>* ]]; <span class="hljs-keyword">then</span><br>  traffic_month_value=$(<span class="hljs-built_in">echo</span> <span class="hljs-variable">$traffic_month</span> | sed -E <span class="hljs-string">&#x27;s/([0-9.]+) GiB/\1/&#x27;</span>)<br>  traffic_month_gb=<span class="hljs-variable">$traffic_month_value</span>  <span class="hljs-comment"># å¦‚æœæ˜¯ GBï¼Œä¿æŒåŸå€¼</span><br>  traffic_month_unit=<span class="hljs-string">&quot;GiB&quot;</span><br><span class="hljs-keyword">else</span><br>  traffic_month_value=0<br>  traffic_month_gb=0<br><span class="hljs-keyword">fi</span><br><br><span class="hljs-comment"># è°ƒè¯•ä¿¡æ¯ï¼šè¾“å‡ºè½¬æ¢åçš„æµé‡æ•°å€¼</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;å½“å¤©æµé‡: <span class="hljs-variable">$traffic_today_value</span> <span class="hljs-variable">$traffic_today_unit</span> (<span class="hljs-variable">$traffic_today_gb</span> GB)&quot;</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;å½“æœˆæµé‡: <span class="hljs-variable">$traffic_month_value</span> <span class="hljs-variable">$traffic_month_unit</span> (<span class="hljs-variable">$traffic_month_gb</span> GB)&quot;</span><br><br><span class="hljs-comment"># å‘é€æµé‡ä¿¡æ¯åˆ° Telegramï¼Œå¸¦ä¸ŠMBå’Œè½¬æ¢åçš„GB</span><br>telegram-send <span class="hljs-string">&quot;Claw çš„ä»Šæ—¥å·²ç”¨æµé‡: <span class="hljs-variable">$traffic_today_value</span> <span class="hljs-variable">$traffic_today_unit</span> (<span class="hljs-variable">$traffic_today_gb</span> GB), æœ¬æœˆå·²ç”¨æµé‡: <span class="hljs-variable">$traffic_month_value</span> <span class="hljs-variable">$traffic_month_unit</span> (<span class="hljs-variable">$traffic_month_gb</span> GB)&quot;</span><br><br></code></pre></td></tr></table></figure></li><li><p>ä¿å­˜å¹¶é€€å‡º (<code>Ctrl + O</code>ï¼Œç„¶å <code>Ctrl + X</code>ï¼‰ã€‚</p></li><li><p>èµ‹äºˆè„šæœ¬å¯æ‰§è¡Œæƒé™ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">chmod</span> +x ~/send_traffic.sh<br></code></pre></td></tr></table></figure></li></ol><h3 id="æ­¥éª¤-4-è®¾ç½®-cron-å®šæ—¶ä»»åŠ¡">æ­¥éª¤ 4: è®¾ç½® <code>cron</code> å®šæ—¶ä»»åŠ¡</h3><p>ä½¿ç”¨ <code>cron</code> æ¯éš”ä¸€å¤©è‡ªåŠ¨æ‰§è¡Œè¯¥è„šæœ¬ã€‚</p><ol><li><p>ç¼–è¾‘ <code>cron</code> å®šæ—¶ä»»åŠ¡ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">crontab -e<br></code></pre></td></tr></table></figure></li><li><p>æ·»åŠ ä»¥ä¸‹è¡Œåˆ° <code>crontab</code> æ–‡ä»¶ä¸­ï¼Œè®¾ç½®æ¯éš”ä¸€å¤©çš„åˆå¤œæ‰§è¡Œè„šæœ¬ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">@daily /bin/bash ~/send_traffic.sh<br><span class="hljs-comment">#ä¹Ÿå¯ä»¥ä½¿ç”¨ 0 0 * * * /bin/bash ~/send_traffic.sh</span><br></code></pre></td></tr></table></figure><p>è¿™è¡Œè¡¨ç¤ºæ¯éš”1å¤©çš„åˆå¤œ <code>00:00</code> æ‰§è¡Œä¸€æ¬¡è„šæœ¬ã€‚</p></li><li><p>ä¿å­˜å¹¶é€€å‡º <code>crontab</code> ç¼–è¾‘å™¨ã€‚</p></li></ol><h3 id="TIPS">TIPS</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">traffic_today=$(vnstat --oneline -i <span class="hljs-variable">$INTERFACE</span> b | awk -F<span class="hljs-string">&#x27;;&#x27;</span> <span class="hljs-string">&#x27;&#123;print $6&#125;&#x27;</span>)<br></code></pre></td></tr></table></figure><h4 id="awk-Fâ€™-â€™-print-6">awk -Fâ€™;â€™ '{print $6}</h4><p>è¿™ä¸€éƒ¨åˆ†æ˜¯ä½¿ç”¨ <code>awk</code> æ¥å¤„ç† <code>vnstat</code> è¾“å‡ºï¼Œæå–æˆ‘ä»¬æ‰€å…³å¿ƒçš„æµé‡æ•°æ®ã€‚</p><ul><li><strong><code>-F';'</code></strong>ï¼š<code>awk</code> ä½¿ç”¨åˆ†å· (<code>;</code>) ä½œä¸ºå­—æ®µåˆ†éš”ç¬¦ï¼ˆé»˜è®¤æ˜¯ç©ºæ ¼æˆ–åˆ¶è¡¨ç¬¦ï¼‰ï¼Œè¿™é‡Œæ˜ç¡®æŒ‡å®šä½¿ç”¨åˆ†å·æ¥åˆ†éš”å„ä¸ªå­—æ®µï¼Œå› ä¸º <code>vnstat --oneline</code> çš„è¾“å‡ºä½¿ç”¨åˆ†å·åˆ†éš”ã€‚</li><li><strong><code>'&#123;print $6&#125;'</code></strong>ï¼š<code>awk</code> è¾“å‡ºç¬¬ 6 åˆ—çš„å€¼ã€‚å­—æ®µä»å·¦åˆ°å³ç¼–å·ï¼Œ<code>$6</code> è¡¨ç¤ºç¬¬ 6 åˆ—ã€‚</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">traffic_today_value=$(<span class="hljs-built_in">echo</span> <span class="hljs-variable">$traffic_today</span> | sed <span class="hljs-string">&#x27;s/ MiB//&#x27;</span>)<br></code></pre></td></tr></table></figure><h4 id="sed-s-MiB">sed 's/ MiB//</h4><ul><li><p><code>sed</code> æ˜¯ä¸€ä¸ªç”¨äºæ–‡æœ¬å¤„ç†çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œé€šå¸¸ç”¨äºæœç´¢ã€æ›¿æ¢ã€åˆ é™¤æˆ–ç¼–è¾‘æ–‡æœ¬ã€‚</p><p>'s/ MiB//'æ˜¯ sedçš„æ›¿æ¢å‘½ä»¤ï¼Œè§£é‡Šå¦‚ä¸‹ï¼š</p><ul><li><strong><code>s/</code></strong>ï¼šè¡¨ç¤ºæ‰§è¡Œæ›¿æ¢æ“ä½œã€‚</li><li><strong><code>MiB</code></strong>ï¼šè¿™æ˜¯æˆ‘ä»¬è¦åŒ¹é…çš„æ–‡æœ¬ï¼Œå³å­—ç¬¦ä¸² <code>MiB</code>ï¼Œå‰é¢æœ‰ä¸€ä¸ªç©ºæ ¼ã€‚</li><li><strong><code>//</code></strong>ï¼šè¡¨ç¤ºå°†åŒ¹é…åˆ°çš„ <code>MiB</code> æ›¿æ¢ä¸ºç©ºï¼Œä¹Ÿå°±æ˜¯åˆ é™¤ <code>MiB</code>ã€‚</li></ul></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">traffic_month_gb=$(<span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;scale=2; <span class="hljs-variable">$traffic_month_value</span> / 1024&quot;</span> | bc)<br></code></pre></td></tr></table></figure><h4 id="echo-scale-2-traffic-month-value-1024">echo &quot;scale=2; $traffic_month_value / 1024</h4><ul><li>è¿™æ˜¯å°†å­—ç¬¦ä¸²ä¼ é€’ç»™ <code>bc</code> è¿›è¡Œè®¡ç®—ã€‚</li><li><strong><code>scale=2</code></strong>ï¼šè¿™è¡¨ç¤ºæˆ‘ä»¬å¸Œæœ›ç»“æœä¿ç•™ 2 ä½å°æ•°ã€‚<code>scale</code> æŒ‡å®šäº†å°æ•°ç‚¹ååº”ä¿ç•™å¤šå°‘ä½ç²¾åº¦ã€‚</li></ul><h4 id="cronä»»åŠ¡"><code>cron</code>ä»»åŠ¡</h4><p><code>cron</code> ä»»åŠ¡çš„æ ¼å¼ç”¨äºè®¾ç½®å®šæ—¶ä»»åŠ¡ï¼Œä»¥æŒ‡å®šçš„æ—¶é—´é—´éš”è‡ªåŠ¨è¿è¡Œç‰¹å®šçš„å‘½ä»¤æˆ–è„šæœ¬ã€‚<code>cron</code> è¡¨è¾¾å¼çš„æ ¼å¼åˆ†ä¸º <strong>5 ä¸ªæ—¶é—´å­—æ®µ</strong>ï¼Œä»¥åŠè¦è¿è¡Œçš„å‘½ä»¤æˆ–è„šæœ¬ã€‚</p><h5 id="cron-æ ¼å¼"><code>cron</code> æ ¼å¼</h5><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css">* * * * * /<span class="hljs-selector-tag">path</span>/<span class="hljs-selector-tag">to</span>/command<br></code></pre></td></tr></table></figure><h5 id="å„å­—æ®µçš„å«ä¹‰ï¼ˆä»å·¦åˆ°å³ä¾æ¬¡ï¼‰">å„å­—æ®µçš„å«ä¹‰ï¼ˆä»å·¦åˆ°å³ä¾æ¬¡ï¼‰</h5><ol><li><strong>åˆ†é’Ÿ</strong>ï¼ˆ0 - 59ï¼‰ï¼šæŒ‡å®šåœ¨æ¯ä¸ªå°æ—¶çš„å“ªä¸€åˆ†é’Ÿè¿è¡Œä»»åŠ¡ã€‚</li><li><strong>å°æ—¶</strong>ï¼ˆ0 - 23ï¼‰ï¼šæŒ‡å®šåœ¨ä¸€å¤©çš„å“ªä¸ªå°æ—¶è¿è¡Œä»»åŠ¡ã€‚</li><li><strong>æ—¥æœŸ</strong>ï¼ˆ1 - 31ï¼‰ï¼šæŒ‡å®šåœ¨ä¸€ä¸ªæœˆçš„å“ªä¸€å¤©è¿è¡Œä»»åŠ¡ã€‚</li><li><strong>æœˆä»½</strong>ï¼ˆ1 - 12ï¼‰ï¼šæŒ‡å®šåœ¨ä¸€å¹´ä¸­çš„å“ªä¸ªæœˆè¿è¡Œä»»åŠ¡ã€‚</li><li><strong>æ˜ŸæœŸå‡ </strong>ï¼ˆ0 - 7ï¼Œ0 å’Œ 7 éƒ½è¡¨ç¤ºæ˜ŸæœŸæ—¥ï¼‰ï¼šæŒ‡å®šåœ¨ä¸€å‘¨çš„å“ªä¸€å¤©è¿è¡Œä»»åŠ¡ã€‚</li></ol><ul><li><strong>å‘½ä»¤</strong>ï¼šåœ¨æŒ‡å®šæ—¶é—´è¿è¡Œçš„å‘½ä»¤æˆ–è„šæœ¬ã€‚</li></ul><h5 id="cron-ç‰¹æ®Šç¬¦å·"><code>cron</code> ç‰¹æ®Šç¬¦å·</h5><ul><li><strong><code>*</code></strong>ï¼šè¡¨ç¤ºæ‰€æœ‰å¯èƒ½çš„å€¼ã€‚ä¾‹å¦‚ï¼Œåœ¨&quot;åˆ†é’Ÿ&quot;å­—æ®µä½¿ç”¨ <code>*</code> è¡¨ç¤ºæ¯åˆ†é’Ÿéƒ½ä¼šæ‰§è¡Œä»»åŠ¡ã€‚</li><li><strong><code>*/n</code></strong>ï¼šè¡¨ç¤ºæ¯éš” <code>n</code> å•ä½æ—¶é—´è¿è¡Œã€‚ä¾‹å¦‚ï¼Œ<code>*/5</code> åœ¨&quot;åˆ†é’Ÿ&quot;å­—æ®µä¸­è¡¨ç¤ºæ¯ 5 åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡ã€‚</li><li><strong><code>,</code></strong>ï¼šè¡¨ç¤ºå¤šä¸ªå€¼ã€‚ä¾‹å¦‚ï¼Œ<code>1,15</code> åœ¨&quot;åˆ†é’Ÿ&quot;å­—æ®µè¡¨ç¤ºåœ¨æ¯å°æ—¶çš„ç¬¬ 1 åˆ†é’Ÿå’Œç¬¬ 15 åˆ†é’Ÿè¿è¡Œä»»åŠ¡ã€‚</li><li><strong><code>-</code></strong>ï¼šè¡¨ç¤ºä¸€ä¸ªèŒƒå›´ã€‚ä¾‹å¦‚ï¼Œ<code>1-5</code> åœ¨&quot;å°æ—¶&quot;å­—æ®µè¡¨ç¤ºæ¯å¤©å‡Œæ™¨ 1 ç‚¹åˆ° 5 ç‚¹æ‰§è¡Œä»»åŠ¡ã€‚</li><li><strong><code>n-m/step</code></strong>ï¼šè¡¨ç¤ºä» <code>n</code> åˆ° <code>m</code>ï¼Œæ¯ <code>step</code> æ‰§è¡Œä¸€æ¬¡ã€‚ä¾‹å¦‚ï¼Œ<code>0-59/15</code> åœ¨&quot;åˆ†é’Ÿ&quot;å­—æ®µè¡¨ç¤ºæ¯ 15 åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡ã€‚</li></ul><h5 id="ç¤ºä¾‹ï¼š">ç¤ºä¾‹ï¼š</h5><ol><li><p><strong>æ¯ 5 åˆ†é’Ÿè¿è¡Œä¸€æ¬¡</strong>ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">*/5 * * * * /path/to/command<br></code></pre></td></tr></table></figure><p>è§£é‡Šï¼šæ¯ 5 åˆ†é’Ÿè¿è¡Œä¸€æ¬¡å‘½ä»¤ <code>/path/to/command</code>ã€‚</p></li><li><p><strong>æ¯å¤©å‡Œæ™¨ 3 ç‚¹è¿è¡Œä¸€æ¬¡</strong>ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">0 3 * * * /path/to/command<br></code></pre></td></tr></table></figure><p>è§£é‡Šï¼šæ¯å¤©å‡Œæ™¨ 3:00 è¿è¡Œå‘½ä»¤ã€‚</p></li><li><p><strong>æ¯å‘¨ä¸€ä¸Šåˆ 7 ç‚¹è¿è¡Œä¸€æ¬¡</strong>ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">0 7 * * 1 /path/to/command<br></code></pre></td></tr></table></figure><p>è§£é‡Šï¼šæ¯å‘¨ä¸€ä¸Šåˆ 7:00 è¿è¡Œå‘½ä»¤ã€‚</p></li><li><p><strong>æ¯æœˆ 1 å·çš„åˆå¤œè¿è¡Œä¸€æ¬¡</strong>ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">0 0 1 * * /path/to/command<br></code></pre></td></tr></table></figure><p>è§£é‡Šï¼šæ¯æœˆ 1 å·çš„ 00:00 è¿è¡Œå‘½ä»¤ã€‚</p></li><li><p><strong>æ¯éš”ä¸¤å¤©çš„åˆå¤œè¿è¡Œä¸€æ¬¡</strong>ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">0 0 */2 * * /path/to/command<br></code></pre></td></tr></table></figure><p>è§£é‡Šï¼šæ¯éš”ä¸¤å¤©çš„ 00:00 è¿è¡Œå‘½ä»¤ã€‚</p></li><li><p><strong>æ¯å‘¨äº”ä¸‹åˆ 5 ç‚¹è¿è¡Œä¸€æ¬¡</strong>ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">0 17 * * 5 /path/to/command<br></code></pre></td></tr></table></figure><p>è§£é‡Šï¼šæ¯å‘¨äº”ä¸‹åˆ 5:00 è¿è¡Œå‘½ä»¤ã€‚</p></li></ol><h5 id="å¦‚ä½•ä½¿ç”¨-cron-è®¾ç½®ä»»åŠ¡">å¦‚ä½•ä½¿ç”¨ <code>cron</code> è®¾ç½®ä»»åŠ¡</h5><ol><li><p><strong>ç¼–è¾‘ <code>cron</code> ä»»åŠ¡è¡¨</strong>ï¼š<br>è¿è¡Œä»¥ä¸‹å‘½ä»¤è¿›å…¥ <code>crontab</code> ç¼–è¾‘å™¨ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">crontab -e<br></code></pre></td></tr></table></figure></li><li><p><strong>æ·»åŠ  <code>cron</code> è¡¨è¾¾å¼</strong>ï¼š<br>åœ¨ <code>crontab</code> ä¸­è¾“å…¥ä½ æƒ³è¦çš„å®šæ—¶ä»»åŠ¡ã€‚ä¾‹å¦‚ï¼Œè®¾ç½®æ¯ 5 åˆ†é’Ÿè¿è¡Œä¸€æ¬¡çš„ä»»åŠ¡ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">*/5 * * * * /path/to/command<br></code></pre></td></tr></table></figure></li><li><p><strong>ä¿å­˜å¹¶é€€å‡º</strong>ï¼š<br>é€šå¸¸ä½¿ç”¨ <code>Ctrl + O</code> ä¿å­˜ï¼Œ<code>Ctrl + X</code> é€€å‡ºã€‚</p></li><li><p><strong>æŸ¥çœ‹å·²è®¾ç½®çš„ <code>cron</code> ä»»åŠ¡</strong>ï¼š<br>ä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹å½“å‰ç”¨æˆ·çš„ <code>cron</code> ä»»åŠ¡ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">crontab -l<br></code></pre></td></tr></table></figure></li></ol><h5 id="cron-ç‰¹æ®Šè¯­æ³•"><code>cron</code> ç‰¹æ®Šè¯­æ³•</h5><p><code>cron</code> è¿˜æ”¯æŒä¸€äº›ç‰¹æ®Šçš„å¿«æ·è¯­æ³•ï¼Œç”¨äºå¸¸è§çš„æ—¶é—´é—´éš”ï¼š</p><ul><li><code>@reboot</code>ï¼šåœ¨ç³»ç»Ÿå¯åŠ¨æ—¶è¿è¡Œã€‚</li><li><code>@hourly</code>ï¼šæ¯å°æ—¶è¿è¡Œä¸€æ¬¡ï¼Œç›¸å½“äº <code>0 * * * *</code>ã€‚</li><li><code>@daily</code>ï¼šæ¯å¤©è¿è¡Œä¸€æ¬¡ï¼Œç›¸å½“äº <code>0 0 * * *</code>ã€‚</li><li><code>@weekly</code>ï¼šæ¯å‘¨è¿è¡Œä¸€æ¬¡ï¼Œç›¸å½“äº <code>0 0 * * 0</code>ã€‚</li><li><code>@monthly</code>ï¼šæ¯æœˆè¿è¡Œä¸€æ¬¡ï¼Œç›¸å½“äº <code>0 0 1 * *</code>ã€‚</li><li><code>@yearly</code>ï¼šæ¯å¹´è¿è¡Œä¸€æ¬¡ï¼Œç›¸å½“äº <code>0 0 1 1 *</code>ã€‚</li></ul><h5 id="ç¤ºä¾‹ä½¿ç”¨">ç¤ºä¾‹ä½¿ç”¨</h5><p>å‡è®¾ä½ æƒ³æ¯éš”ä¸¤å¤©çš„åˆå¤œè¿è¡Œä¸€ä¸ªåä¸º <code>send_traffic.sh</code> çš„è„šæœ¬ï¼Œå¯ä»¥åœ¨ <code>crontab</code> ä¸­æ·»åŠ ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">0 0 */2 * * /bin/bash ~/send_traffic.sh<br></code></pre></td></tr></table></figure><h3 id="æ€»ç»“">æ€»ç»“</h3><ul><li><strong><code>vnstat</code></strong> ç›‘æ§ç½‘ç»œæµé‡ï¼Œ<code>telegram-send</code> ç”¨äºå‘é€é€šçŸ¥ã€‚</li><li>è„šæœ¬æ¯éš”ä¸€å¤©ä¼šè‡ªåŠ¨è¿è¡Œï¼Œè·å–ç½‘ç»œæµé‡æ•°æ®å¹¶å‘é€ç»™ Telegram æœºå™¨äººã€‚</li></ul><p>é€šè¿‡è¿™äº›æ­¥éª¤ï¼Œä½ çš„è„šæœ¬å°†åœ¨æ¯å¤©è‡ªåŠ¨å‘é€å·²ç”¨æµé‡çš„é€šçŸ¥ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>å®ç”¨è„šæœ¬</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å®ç”¨è„šæœ¬</tag>
      
      <tag>Linux</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>bç«™è‡ªåŠ¨å€é€Ÿå’Œå­—å¹•è„šæœ¬</title>
    <link href="/2024/10/08/b%E7%AB%99%E8%87%AA%E5%8A%A8%E5%80%8D%E9%80%9F%E5%92%8C%E5%AD%97%E5%B9%95%E8%84%9A%E6%9C%AC/"/>
    <url>/2024/10/08/b%E7%AB%99%E8%87%AA%E5%8A%A8%E5%80%8D%E9%80%9F%E5%92%8C%E5%AD%97%E5%B9%95%E8%84%9A%E6%9C%AC/</url>
    
    <content type="html"><![CDATA[<blockquote><p>bç«™å€é€ŸæŒ‰é’®æœ€å¤šåªæœ‰ä¸¤å€é€Ÿï¼Œä¸”ä¸€ä¸ªè§†é¢‘é›†åˆä¸èƒ½é»˜è®¤å¼€å¯å­—å¹•ã€‚å…¶å®éƒ½æ˜¯å°é—®é¢˜ï¼Œé‚£ä¸ºä»€ä¹ˆä½œè€…è¦å†™ä¸€ä¸ªè„šæœ¬å®ç°bç«™å€é€Ÿå’Œå¼€å¯å­—å¹•ï¼Œä¸€æ˜¯å› ä¸ºæ‡’ï¼ŒäºŒæ˜¯å› ä¸ºé—²çš„ã€‚</p></blockquote><h2 id="å®ç°æ–¹æ³•">å®ç°æ–¹æ³•</h2><p>å­—å¹•å’Œå€é€Ÿå¼€å¯ç›´æ¥æ‰¾åˆ°å¯¹åº”å…ƒç´ ä¿®æ”¹æˆ–ç‚¹å‡»å³å¯ï¼Œéš¾ç‚¹åœ¨äºbç«™ä¸€ä¸ªè§†é¢‘é›†åˆåˆ‡æ¢è§†é¢‘åªæ˜¯å±€éƒ¨åˆ·æ–°ï¼Œè„šæœ¬ä¸ä¼šé‡æ–°è¿è¡Œï¼Œå¯ä»¥è®¾ç½®ä¸€ä¸ªå®šæ—¶å™¨å®šæ—¶æ‰§è¡Œè„šæœ¬ï¼Œä½†è¿™ç§æ–¹æ³•ä¸å¤Ÿä¼˜é›…ï¼Œæ¯ä¸ªè§†é¢‘æ—¶é•¿ä¸å›ºå®šã€‚<br>è§£å†³æ–¹æ¡ˆæ˜¯é‡å†™pushstateæ–¹æ³•ï¼Œåˆ‡æ¢è§†é¢‘ä¼šè°ƒç”¨pushstateæ–¹æ³•ï¼Œå› æ­¤é‡å†™è¯¥æ–¹æ³•ï¼Œè®©åˆ‡æ¢è§†é¢‘æ—¶é‡æ–°æ‰§è¡Œä¸€éè„šæœ¬å³å¯ã€‚</p><h2 id="è„šæœ¬">è„šæœ¬</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// ==UserScript==</span><br><span class="hljs-comment">// @name         bç«™ä¸‰å€é€Ÿå¹¶å¼€å¯å­—å¹•</span><br><span class="hljs-comment">// @namespace    http://tampermonkey.net/</span><br><span class="hljs-comment">// @version      2024-10-08</span><br><span class="hljs-comment">// @description  try to take over the world!</span><br><span class="hljs-comment">// @author       You</span><br><span class="hljs-comment">// @match        https://www.bilibili.com/video/BV1eA411z7ET*</span><br><span class="hljs-comment">// @icon         https://www.google.com/s2/favicons?sz=64&amp;domain=bilibili.com</span><br><span class="hljs-comment">// @grant        none</span><br><span class="hljs-comment">// ==/UserScript==</span><br><br>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-string">&#x27;use strict&#x27;</span>;<br><br>    <span class="hljs-comment">// ä¿å­˜å½“å‰çš„ URLï¼Œç”¨äºå¯¹æ¯”</span><br>    <span class="hljs-keyword">let</span> currentUrl = <span class="hljs-literal">null</span>;<br><br>    <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œå½“ URL æ”¹å˜æ—¶è°ƒç”¨</span><br>    <span class="hljs-keyword">function</span> <span class="hljs-title function_">onUrlChange</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-comment">// æ£€æŸ¥ URL æ˜¯å¦çœŸçš„æ”¹å˜äº†ï¼ˆé¿å…ä¸å¿…è¦çš„æ“ä½œï¼‰</span><br>        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">window</span>.<span class="hljs-property">location</span>.<span class="hljs-property">href</span> !== currentUrl) &#123;<br>            currentUrl = <span class="hljs-variable language_">window</span>.<span class="hljs-property">location</span>.<span class="hljs-property">href</span>; <span class="hljs-comment">// æ›´æ–°å½“å‰ URL</span><br><br>            <span class="hljs-comment">// å»¶è¿Ÿ2ç§’ç¡®ä¿æ–°è§†é¢‘åŠ è½½å®Œæˆåæ‰§è¡Œé€»è¾‘</span><br>            <span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>                <span class="hljs-keyword">const</span> videoElement = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;video&#x27;</span>);<br>                <span class="hljs-keyword">if</span> (videoElement) &#123;<br>                    <span class="hljs-comment">// è®¾ç½®æ’­æ”¾é€Ÿåº¦ä¸º3å€</span><br>                    videoElement.<span class="hljs-property">playbackRate</span> = <span class="hljs-number">3</span>;<br>                &#125;<br><br>                <span class="hljs-comment">// è·å–å­—å¹•æ˜¾ç¤ºåŒºåŸŸå’Œå­—å¹•æŒ‰é’®å›¾æ ‡</span><br>                <span class="hljs-keyword">const</span> subtitleDisplay = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;.bpx-player-subtitle-panel-text&#x27;</span>);<br>                <span class="hljs-keyword">const</span> subtitleIcon = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;.bpx-player-ctrl-subtitle .bpx-player-ctrl-btn-icon span&#x27;</span>);<br><br>                <span class="hljs-comment">// åˆ¤æ–­å­—å¹•æ˜¯å¦å¼€å¯</span><br>                <span class="hljs-keyword">if</span> (subtitleDisplay &amp;&amp; subtitleDisplay.<span class="hljs-property">innerText</span>.<span class="hljs-title function_">trim</span>() !== <span class="hljs-string">&quot;&quot;</span>) &#123;<br>                    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;å­—å¹•å·²å¼€å¯&#x27;</span>);<br>                &#125; <span class="hljs-keyword">else</span> &#123;<br>                    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;å­—å¹•æœªå¼€å¯&#x27;</span>);<br>                    subtitleIcon.<span class="hljs-title function_">click</span>(); <span class="hljs-comment">// ç‚¹å‡»å¼€å¯å­—å¹•</span><br>                &#125;<br><br>            &#125;, <span class="hljs-number">2000</span>); <span class="hljs-comment">// å»¶è¿Ÿ2ç§’ç¡®ä¿é¡µé¢å†…å®¹å®Œå…¨åŠ è½½</span><br>        &#125;<br>    &#125;<br>    <span class="hljs-comment">// ç›‘å¬ history.pushState ä»¥æ•æ‰åˆ° URL çš„å˜åŒ–</span><br>    (<span class="hljs-keyword">function</span>(<span class="hljs-params">history</span>) &#123;<br>        <span class="hljs-keyword">const</span> pushState = history.<span class="hljs-property">pushState</span>;<br>        history.<span class="hljs-property">pushState</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">state</span>) &#123;<br>            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> history.<span class="hljs-property">onpushstate</span> === <span class="hljs-string">&quot;function&quot;</span>) &#123;<br>                history.<span class="hljs-title function_">onpushstate</span>(&#123; <span class="hljs-attr">state</span>: state &#125;);<br>            &#125;<br>            <span class="hljs-comment">// åŸæœ¬çš„ pushState æ–¹æ³•</span><br>            <span class="hljs-keyword">const</span> ret = pushState.<span class="hljs-title function_">apply</span>(history, <span class="hljs-variable language_">arguments</span>);<br>            <span class="hljs-comment">// æ£€æŸ¥ URL æ˜¯å¦æ”¹å˜</span><br>            <span class="hljs-title function_">onUrlChange</span>();<br>            <span class="hljs-keyword">return</span> ret;<br>        &#125;;<br>    &#125;)(<span class="hljs-variable language_">window</span>.<span class="hljs-property">history</span>);<br>    <span class="hljs-comment">// ç›‘å¬ popstate äº‹ä»¶ï¼ˆä¾‹å¦‚ç”¨æˆ·ç‚¹å‡»æµè§ˆå™¨çš„å‰è¿›/åé€€æŒ‰é’®ï¼‰</span><br>    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;popstate&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-title function_">onUrlChange</span>();<br>    &#125;);<br>    <span class="hljs-title function_">onUrlChange</span>();<br>&#125;)();<br><br></code></pre></td></tr></table></figure><h2 id="è¯´æ˜">è¯´æ˜</h2><p>æ¨èåœ¨æ²¹çŒ´ä¸­ä½¿ç”¨æ­¤è„šæœ¬ï¼Œæ²¹çŒ´ä¼šè¯»å–matchçš„å€¼æ¥åŒ¹é…å“ªäº›ç½‘ç«™æ‰§è¡Œè¯¥è„šæœ¬ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// @match        https://www.bilibili.com/video/BV1eA411z7ET*</span><br></code></pre></td></tr></table></figure><p>ä¸€èˆ¬æ¥è¯´ï¼Œä¸€ä¸ªè§†é¢‘é›†åˆçš„BVå·éƒ½æ˜¯ä¸€è‡´çš„ï¼Œæ‰€ä»¥åœ¨BVå·åé¢åŠ ä¸Š*é€šé…ç¬¦å³å¯åŒ¹é…è¿™ä¸ªè§†é¢‘é›†åˆä¸‹çš„æ‰€æœ‰è§†é¢‘ã€‚</p><p>å¦‚æœåœ¨videoåé¢åŠ ä¸Š*ï¼Œå°±ä¼šåŒ¹é…bç«™æ‰€æœ‰è§†é¢‘ã€‚</p><p>è°ƒæ•´å€é€Ÿåªéœ€è¦è°ƒæ•´è¿™é‡Œçš„æ•°å€¼ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">videoElement.<span class="hljs-property">playbackRate</span> = <span class="hljs-number">3</span>;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>å®ç”¨è„šæœ¬</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å®ç”¨è„šæœ¬</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç¥ç»ç½‘ç»œä¸­çš„åå‘ä¼ æ’­ï¼ˆbackwardsï¼‰</title>
    <link href="/2024/10/07/backwards/"/>
    <url>/2024/10/07/backwards/</url>
    
    <content type="html"><![CDATA[<h1>1.ä»€ä¹ˆæ˜¯åå‘ä¼ æ’­</h1><blockquote><p>åå‘ä¼ æ’­æ˜¯ä¸€ç§ç”¨äºé«˜æ•ˆè®¡ç®—æ¢¯åº¦çš„æ–¹æ³•ï¼Œå®ƒç»“åˆäº†é“¾å¼æ³•åˆ™åœ¨ç¥ç»ç½‘ç»œä¸­çš„åº”ç”¨ã€‚åå‘ä¼ æ’­çš„ä¸»è¦ä½œç”¨æ˜¯å°†æŸå¤±å‡½æ•°çš„è¯¯å·®ä»è¾“å‡ºå±‚é€å±‚å‘å‰ä¼ æ’­åˆ°è¾“å…¥å±‚ï¼Œä»¥ä¾¿è®¡ç®—å‡ºæ¯ä¸€å±‚å‚æ•°çš„æ¢¯åº¦ã€‚</p></blockquote><p>ç®€å•æ¥è¯´ï¼Œåå‘ä¼ æ’­å°±æ˜¯è®¡ç®—æœºè®¡ç®—æ¢¯åº¦çš„æ–¹æ³•ã€‚</p><h1>2.è®¡ç®—æ­¥éª¤</h1><img src="/2024/10/07/backwards/forward.png" class="" title="forward"><p>å‡è®¾æœ‰è¿™æ ·ä¸€ä¸ªç®€å•çš„ç¥ç»ç½‘ç»œï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯æ±‚å‡ºcostå‡½æ•°å…³äºå„å‚æ•°çš„æ¢¯åº¦ï¼Œä¹Ÿå°±æ˜¯ï¼š</p><p class="katex-block "><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mfrac><mrow><mi mathvariant="normal">âˆ‚</mi><mi>C</mi></mrow><mrow><mi mathvariant="normal">âˆ‚</mi><msup><mi>w</mi><mi>L</mi></msup></mrow></mfrac><mo separator="true">,</mo><mfrac><mrow><mi mathvariant="normal">âˆ‚</mi><mi>C</mi></mrow><mrow><mi mathvariant="normal">âˆ‚</mi><msup><mi>w</mi><mrow><mi>L</mi><mo>âˆ’</mo><mn>1</mn></mrow></msup></mrow></mfrac><mo separator="true">,</mo><mfrac><mrow><mi mathvariant="normal">âˆ‚</mi><mi>C</mi></mrow><mrow><mi mathvariant="normal">âˆ‚</mi><msup><mi>w</mi><mrow><mi>L</mi><mo>âˆ’</mo><mn>2</mn></mrow></msup></mrow></mfrac><mo separator="true">,</mo><mfrac><mrow><mi mathvariant="normal">âˆ‚</mi><mi>C</mi></mrow><mrow><mi mathvariant="normal">âˆ‚</mi><msup><mi>b</mi><mi>L</mi></msup></mrow></mfrac><mo separator="true">,</mo><mfrac><mrow><mi mathvariant="normal">âˆ‚</mi><mi>C</mi></mrow><mrow><mi mathvariant="normal">âˆ‚</mi><msup><mi>b</mi><mrow><mi>L</mi><mo>âˆ’</mo><mn>1</mn></mrow></msup></mrow></mfrac><mo separator="true">,</mo><mfrac><mrow><mi mathvariant="normal">âˆ‚</mi><mi>C</mi></mrow><mrow><mi mathvariant="normal">âˆ‚</mi><msup><mi>b</mi><mrow><mi>L</mi><mo>âˆ’</mo><mn>2</mn></mrow></msup></mrow></mfrac><mo separator="true">,</mo><mfrac><mrow><mi mathvariant="normal">âˆ‚</mi><mi>C</mi></mrow><mrow><mi mathvariant="normal">âˆ‚</mi><msup><mi>a</mi><mrow><mi>L</mi><mo>âˆ’</mo><mn>1</mn></mrow></msup></mrow></mfrac><mo separator="true">,</mo><mfrac><mrow><mi mathvariant="normal">âˆ‚</mi><mi>C</mi></mrow><mrow><mi mathvariant="normal">âˆ‚</mi><msup><mi>a</mi><mrow><mi>L</mi><mo>âˆ’</mo><mn>2</mn></mrow></msup></mrow></mfrac></mrow><annotation encoding="application/x-tex">\frac{\partial C}{\partial w^L},\frac{\partial C}{\partial w^{L-1}},\frac{\partial C}{\partial w^{L-2}},\frac{\partial C}{\partial b^L} ,\frac{\partial C}{\partial b^{L-1}} ,\frac{\partial C}{\partial b^{L-2}} ,\frac{\partial C}{\partial a^{L-1}} ,\frac{\partial C}{\partial a^{L-2}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.0574em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7673em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">L</span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7673em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">L</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7673em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">L</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7673em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">L</span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7673em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">L</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7673em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">L</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7673em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">L</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7673em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">L</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>æˆ‘ä»¬æœ‰ï¼š</p><p class="katex-block "><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="right" columnspacing=""><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><msup><mi>z</mi><mi>L</mi></msup><mo>=</mo><msup><mi>w</mi><mi>L</mi></msup><mo>â‹…</mo><msup><mi>a</mi><mrow><mi>L</mi><mo>âˆ’</mo><mn>1</mn></mrow></msup><mo>+</mo><msup><mi>b</mi><mi>L</mi></msup><mspace width="1em"/><mo stretchy="false">(</mo><mn>2</mn><mo>âˆ’</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><msup><mi>a</mi><mi>L</mi></msup><mo>=</mo><mi>Ïƒ</mi><mo stretchy="false">(</mo><msup><mi>z</mi><mi>L</mi></msup><mo stretchy="false">)</mo><mspace width="1em"/><mo stretchy="false">(</mo><mn>2</mn><mo>âˆ’</mo><mn>2</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mi>C</mi><mo>=</mo><mo stretchy="false">(</mo><msup><mi>a</mi><mi>L</mi></msup><mo>âˆ’</mo><mi>y</mi><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mspace width="1em"/><mo stretchy="false">(</mo><mn>2</mn><mo>âˆ’</mo><mn>3</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{aligned}z^L = w^L \cdot a^{L-1}+b^L\quad(2-1)\\ \\[1em] a^L = \sigma(z^L)\quad(2-2)\\ \\[1em] C = (a^L-y)^2\quad(2-3)\end{aligned}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:9.654em;vertical-align:-4.577em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:5.077em;"><span style="top:-7.1857em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">L</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">L</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">L</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">L</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:1em;"></span><span class="mopen">(</span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span><span style="top:-5.6857em;"><span class="pstrut" style="height:3em;"></span><span class="mord"></span></span><span style="top:-3.1343em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">L</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">Ïƒ</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">L</span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:1em;"></span><span class="mopen">(</span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">2</span><span class="mclose">)</span></span></span><span style="top:-1.6343em;"><span class="pstrut" style="height:3em;"></span><span class="mord"></span></span><span style="top:0.917em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">L</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:1em;"></span><span class="mopen">(</span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">3</span><span class="mclose">)</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:4.577em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><p>æ ¹æ®é“¾å¼æ³•åˆ™,æˆ‘ä»¬æœ‰ï¼š</p><p class="katex-block "><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="right" columnspacing=""><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mfrac><mrow><mi mathvariant="normal">âˆ‚</mi><mi>C</mi></mrow><mrow><mi mathvariant="normal">âˆ‚</mi><msup><mi>w</mi><mi>L</mi></msup></mrow></mfrac><mo>=</mo><mfrac><mrow><mi mathvariant="normal">âˆ‚</mi><msup><mi>z</mi><mi>L</mi></msup></mrow><mrow><mi mathvariant="normal">âˆ‚</mi><msup><mi>w</mi><mi>L</mi></msup></mrow></mfrac><mfrac><mrow><mi mathvariant="normal">âˆ‚</mi><msup><mi>a</mi><mi>L</mi></msup></mrow><mrow><mi mathvariant="normal">âˆ‚</mi><msup><mi>z</mi><mi>L</mi></msup></mrow></mfrac><mfrac><mrow><mi mathvariant="normal">âˆ‚</mi><mi>C</mi></mrow><mrow><mi mathvariant="normal">âˆ‚</mi><msup><mi>a</mi><mi>L</mi></msup></mrow></mfrac><mspace width="1em"/><mo stretchy="false">(</mo><mn>2</mn><mo>âˆ’</mo><mn>4</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mfrac><mrow><mi mathvariant="normal">âˆ‚</mi><mi>C</mi></mrow><mrow><mi mathvariant="normal">âˆ‚</mi><msup><mi>b</mi><mi>L</mi></msup></mrow></mfrac><mo>=</mo><mfrac><mrow><mi mathvariant="normal">âˆ‚</mi><msup><mi>z</mi><mi>L</mi></msup></mrow><mrow><mi mathvariant="normal">âˆ‚</mi><msup><mi>b</mi><mi>L</mi></msup></mrow></mfrac><mfrac><mrow><mi mathvariant="normal">âˆ‚</mi><msup><mi>a</mi><mi>L</mi></msup></mrow><mrow><mi mathvariant="normal">âˆ‚</mi><msup><mi>z</mi><mi>L</mi></msup></mrow></mfrac><mfrac><mrow><mi mathvariant="normal">âˆ‚</mi><mi>C</mi></mrow><mrow><mi mathvariant="normal">âˆ‚</mi><msup><mi>a</mi><mi>L</mi></msup></mrow></mfrac><mspace width="1em"/><mo stretchy="false">(</mo><mn>2</mn><mo>âˆ’</mo><mn>5</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mfrac><mrow><mi mathvariant="normal">âˆ‚</mi><mi>C</mi></mrow><mrow><mi mathvariant="normal">âˆ‚</mi><msup><mi>a</mi><mrow><mi>L</mi><mo>âˆ’</mo><mn>1</mn></mrow></msup></mrow></mfrac><mo>=</mo><mfrac><mrow><mi mathvariant="normal">âˆ‚</mi><msup><mi>z</mi><mi>L</mi></msup></mrow><mrow><mi mathvariant="normal">âˆ‚</mi><msup><mi>a</mi><mrow><mi>L</mi><mo>âˆ’</mo><mn>1</mn></mrow></msup></mrow></mfrac><mfrac><mrow><mi mathvariant="normal">âˆ‚</mi><msup><mi>a</mi><mi>L</mi></msup></mrow><mrow><mi mathvariant="normal">âˆ‚</mi><msup><mi>z</mi><mi>L</mi></msup></mrow></mfrac><mfrac><mrow><mi mathvariant="normal">âˆ‚</mi><mi>C</mi></mrow><mrow><mi mathvariant="normal">âˆ‚</mi><msup><mi>a</mi><mi>L</mi></msup></mrow></mfrac><mspace width="1em"/><mo stretchy="false">(</mo><mn>2</mn><mo>âˆ’</mo><mn>6</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{aligned}\frac{\partial C}{\partial w^L} = \frac{\partial z^L}{\partial w^L}\frac{\partial a^L}{\partial z^L}\frac{\partial C}{\partial a^L}\quad(2-4)\\ \\[1em] \frac{\partial C}{\partial b^L} = \frac{\partial z^L}{\partial b^L}\frac{\partial a^L}{\partial z^L}\frac{\partial C}{\partial a^L}\quad(2-5)\\ \\[1em] \frac{\partial C}{\partial a^{L-1}} = \frac{\partial z^L}{\partial a^{L-1}}\frac{\partial a^L}{\partial z^L}\frac{\partial C}{\partial a^L}\quad(2-6)\end{aligned}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:12.513em;vertical-align:-6.0065em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:6.5065em;"><span style="top:-8.5065em;"><span class="pstrut" style="height:3.5183em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7673em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">L</span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.5183em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7673em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">L</span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">L</span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.5183em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7673em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">L</span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">L</span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7673em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">L</span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:1em;"></span><span class="mopen">(</span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">4</span><span class="mclose">)</span></span></span><span style="top:-6.6805em;"><span class="pstrut" style="height:3.5183em;"></span><span class="mord"></span></span><span style="top:-3.5022em;"><span class="pstrut" style="height:3.5183em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7673em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">L</span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.5183em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7673em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">L</span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">L</span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.5183em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7673em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">L</span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">L</span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7673em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">L</span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:1em;"></span><span class="mopen">(</span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">5</span><span class="mclose">)</span></span></span><span style="top:-1.6762em;"><span class="pstrut" style="height:3.5183em;"></span><span class="mord"></span></span><span style="top:1.5022em;"><span class="pstrut" style="height:3.5183em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7673em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">L</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.5183em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7673em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">L</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">L</span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.5183em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7673em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">L</span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">L</span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7673em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">L</span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:1em;"></span><span class="mopen">(</span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">6</span><span class="mclose">)</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:6.0065em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><p>4ã€5ã€6å¼å­çš„ç¬¬ä¸€é¡¹è®¡ç®—å‡ºæ¥åˆ†åˆ«æ˜¯ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>a</mi><mrow><mi>L</mi><mo>âˆ’</mo><mn>1</mn></mrow></msup></mrow><annotation encoding="application/x-tex">a^{L-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8413em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">L</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span> ã€ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>ã€<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>w</mi><mi>L</mi></msup></mrow><annotation encoding="application/x-tex">w^L</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8413em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">L</span></span></span></span></span></span></span></span></span></span></span> ï¼Œç¬¬äºŒé¡¹éƒ½æ˜¯ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>Ïƒ</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup><mo stretchy="false">(</mo><msup><mi>z</mi><mi>L</mi></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\sigma&#x27;(z^L)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0913em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">L</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>ï¼Œç¬¬ä¸‰é¡¹éƒ½æ˜¯<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mi mathvariant="normal">âˆ‚</mi><mi>C</mi></mrow><mrow><mi mathvariant="normal">âˆ‚</mi><msup><mi>a</mi><mi>L</mi></msup></mrow></mfrac></mrow><annotation encoding="application/x-tex">\frac{\partial C}{\partial a^L}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.232em;vertical-align:-0.3519em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8801em;"><span style="top:-2.6481em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">âˆ‚</span><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7741em;"><span style="top:-2.786em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">L</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">âˆ‚</span><span class="mord mathnormal mtight" style="margin-right:0.07153em;">C</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3519em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>ï¼Œä¹Ÿå°±æ˜¯<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><mo stretchy="false">(</mo><msub><mi>a</mi><mi>L</mi></msub><mo>âˆ’</mo><mi>y</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">2(a_L-y)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">2</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">L</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span></span></span></span>ã€‚</p><p>æˆ‘ä»¬å†è®¡ç®—L-1å±‚ï¼ŒåŒæ ·æ ¹æ®é“¾å¼æ³•åˆ™ï¼Œæˆ‘ä»¬æœ‰ï¼š</p><p class="katex-block "><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="right" columnspacing=""><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mfrac><mrow><mi mathvariant="normal">âˆ‚</mi><mi>C</mi></mrow><mrow><mi mathvariant="normal">âˆ‚</mi><msup><mi>w</mi><mrow><mi>L</mi><mo>âˆ’</mo><mn>1</mn></mrow></msup></mrow></mfrac><mo>=</mo><mfrac><mrow><mi mathvariant="normal">âˆ‚</mi><msup><mi>z</mi><mrow><mi>L</mi><mo>âˆ’</mo><mn>1</mn></mrow></msup></mrow><mrow><mi mathvariant="normal">âˆ‚</mi><msup><mi>w</mi><mrow><mi>L</mi><mo>âˆ’</mo><mn>1</mn></mrow></msup></mrow></mfrac><mfrac><mrow><mi mathvariant="normal">âˆ‚</mi><msup><mi>a</mi><mrow><mi>L</mi><mo>âˆ’</mo><mn>1</mn></mrow></msup></mrow><mrow><mi mathvariant="normal">âˆ‚</mi><msup><mi>z</mi><mrow><mi>L</mi><mo>âˆ’</mo><mn>1</mn></mrow></msup></mrow></mfrac><mfrac><mrow><mi mathvariant="normal">âˆ‚</mi><mi>C</mi></mrow><mrow><mi mathvariant="normal">âˆ‚</mi><msup><mi>a</mi><mrow><mi>L</mi><mo>âˆ’</mo><mn>1</mn></mrow></msup></mrow></mfrac><mspace width="1em"/><mo stretchy="false">(</mo><mn>2</mn><mo>âˆ’</mo><mn>7</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mfrac><mrow><mi mathvariant="normal">âˆ‚</mi><mi>C</mi></mrow><mrow><mi mathvariant="normal">âˆ‚</mi><msup><mi>b</mi><mrow><mi>L</mi><mo>âˆ’</mo><mn>1</mn></mrow></msup></mrow></mfrac><mo>=</mo><mfrac><mrow><mi mathvariant="normal">âˆ‚</mi><msup><mi>z</mi><mrow><mi>L</mi><mo>âˆ’</mo><mn>1</mn></mrow></msup></mrow><mrow><mi mathvariant="normal">âˆ‚</mi><msup><mi>b</mi><mrow><mi>L</mi><mo>âˆ’</mo><mn>1</mn></mrow></msup></mrow></mfrac><mfrac><mrow><mi mathvariant="normal">âˆ‚</mi><msup><mi>a</mi><mrow><mi>L</mi><mo>âˆ’</mo><mn>1</mn></mrow></msup></mrow><mrow><mi mathvariant="normal">âˆ‚</mi><msup><mi>z</mi><mrow><mi>L</mi><mo>âˆ’</mo><mn>1</mn></mrow></msup></mrow></mfrac><mfrac><mrow><mi mathvariant="normal">âˆ‚</mi><mi>C</mi></mrow><mrow><mi mathvariant="normal">âˆ‚</mi><msup><mi>a</mi><mrow><mi>L</mi><mo>âˆ’</mo><mn>1</mn></mrow></msup></mrow></mfrac><mspace width="1em"/><mo stretchy="false">(</mo><mn>2</mn><mo>âˆ’</mo><mn>8</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mfrac><mrow><mi mathvariant="normal">âˆ‚</mi><mi>C</mi></mrow><mrow><mi mathvariant="normal">âˆ‚</mi><msup><mi>a</mi><mrow><mi>L</mi><mo>âˆ’</mo><mn>2</mn></mrow></msup></mrow></mfrac><mo>=</mo><mfrac><mrow><mi mathvariant="normal">âˆ‚</mi><msup><mi>z</mi><mrow><mi>L</mi><mo>âˆ’</mo><mn>1</mn></mrow></msup></mrow><mrow><mi mathvariant="normal">âˆ‚</mi><msup><mi>a</mi><mrow><mi>L</mi><mo>âˆ’</mo><mn>1</mn></mrow></msup></mrow></mfrac><mfrac><mrow><mi mathvariant="normal">âˆ‚</mi><msup><mi>a</mi><mrow><mi>L</mi><mo>âˆ’</mo><mn>1</mn></mrow></msup></mrow><mrow><mi mathvariant="normal">âˆ‚</mi><msup><mi>z</mi><mrow><mi>L</mi><mo>âˆ’</mo><mn>1</mn></mrow></msup></mrow></mfrac><mfrac><mrow><mi mathvariant="normal">âˆ‚</mi><mi>C</mi></mrow><mrow><mi mathvariant="normal">âˆ‚</mi><msup><mi>a</mi><mrow><mi>L</mi><mo>âˆ’</mo><mn>1</mn></mrow></msup></mrow></mfrac><mspace width="1em"/><mo stretchy="false">(</mo><mn>2</mn><mo>âˆ’</mo><mn>9</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{aligned}\frac{\partial C}{\partial w^{L-1}} = \frac{\partial z^{L-1}}{\partial w^{L-1}}\frac{\partial a^{L-1}}{\partial z^{L-1}}\frac{\partial C}{\partial a^{L-1}}\quad(2-7)\\ \\[1em] \frac{\partial C}{\partial b^{L-1}} = \frac{\partial z^{L-1}}{\partial b^{L-1}}\frac{\partial a^{L-1}}{\partial z^{L-1}}\frac{\partial C}{\partial a^{L-1}}\quad(2-8)\\ \\[1em] \frac{\partial C}{\partial a^{L-2}} = \frac{\partial z^{L-1}}{\partial a^{L-1}}\frac{\partial a^{L-1}}{\partial z^{L-1}}\frac{\partial C}{\partial a^{L-1}}\quad(2-9)\\\end{aligned}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:12.513em;vertical-align:-6.0065em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:6.5065em;"><span style="top:-8.5065em;"><span class="pstrut" style="height:3.5183em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7673em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">L</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.5183em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7673em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">L</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">L</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.5183em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7673em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">L</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">L</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7673em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">L</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:1em;"></span><span class="mopen">(</span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">7</span><span class="mclose">)</span></span></span><span style="top:-6.6805em;"><span class="pstrut" style="height:3.5183em;"></span><span class="mord"></span></span><span style="top:-3.5022em;"><span class="pstrut" style="height:3.5183em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7673em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">L</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.5183em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7673em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">L</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">L</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.5183em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7673em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">L</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">L</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7673em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">L</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:1em;"></span><span class="mopen">(</span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">8</span><span class="mclose">)</span></span></span><span style="top:-1.6762em;"><span class="pstrut" style="height:3.5183em;"></span><span class="mord"></span></span><span style="top:1.5022em;"><span class="pstrut" style="height:3.5183em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7673em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">L</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.5183em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7673em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">L</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">L</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.5183em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7673em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">L</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">L</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7673em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">L</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:1em;"></span><span class="mopen">(</span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">9</span><span class="mclose">)</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:6.0065em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><p>7ã€8ã€9å¼å­çš„ç¬¬ä¸€é¡¹è®¡ç®—å‡ºæ¥åˆ†åˆ«æ˜¯ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>a</mi><mrow><mi>L</mi><mo>âˆ’</mo><mn>2</mn></mrow></msup></mrow><annotation encoding="application/x-tex">a^{L-2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8413em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">L</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span>ã€<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>ã€<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>w</mi><mrow><mi>L</mi><mo>âˆ’</mo><mn>1</mn></mrow></msup></mrow><annotation encoding="application/x-tex">w^{L-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8413em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">L</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span> ï¼Œç¬¬äºŒé¡¹éƒ½æ˜¯ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>Ïƒ</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup><mo stretchy="false">(</mo><msup><mi>z</mi><mrow><mi>L</mi><mo>âˆ’</mo><mn>1</mn></mrow></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\sigma&#x27;(z^{L-1})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0913em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">L</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> ï¼Œç¬¬ä¸‰é¡¹éƒ½æ˜¯ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mi mathvariant="normal">âˆ‚</mi><mi>C</mi></mrow><mrow><mi mathvariant="normal">âˆ‚</mi><msup><mi>a</mi><mrow><mi>L</mi><mo>âˆ’</mo><mn>1</mn></mrow></msup></mrow></mfrac></mrow><annotation encoding="application/x-tex">\frac{\partial C}{\partial a^{L-1}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.232em;vertical-align:-0.3519em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8801em;"><span style="top:-2.6481em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">âˆ‚</span><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7741em;"><span style="top:-2.786em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">L</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">âˆ‚</span><span class="mord mathnormal mtight" style="margin-right:0.07153em;">C</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3519em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span> ã€‚</p><p>ä¸éš¾çœ‹å‡ºï¼Œæˆ‘ä»¬çŸ¥é“<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mi mathvariant="normal">âˆ‚</mi><mi>C</mi></mrow><mrow><mi mathvariant="normal">âˆ‚</mi><msup><mi>a</mi><mi>L</mi></msup></mrow></mfrac></mrow><annotation encoding="application/x-tex">\frac{\partial C}{\partial a^L}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.232em;vertical-align:-0.3519em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8801em;"><span style="top:-2.6481em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">âˆ‚</span><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7741em;"><span style="top:-2.786em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">L</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">âˆ‚</span><span class="mord mathnormal mtight" style="margin-right:0.07153em;">C</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3519em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>  ï¼Œå°±å¯ä»¥ç®—å‡ºcostå‡½æ•°å¯¹Lå±‚å„å‚æ•°çš„åå¯¼ï¼Œè€Œ6å¼è®¡ç®—å‡º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mi mathvariant="normal">âˆ‚</mi><mi>C</mi></mrow><mrow><mi mathvariant="normal">âˆ‚</mi><msup><mi>a</mi><mrow><mi>L</mi><mo>âˆ’</mo><mn>1</mn></mrow></msup></mrow></mfrac></mrow><annotation encoding="application/x-tex">\frac{\partial C}{\partial a^{L-1}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.232em;vertical-align:-0.3519em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8801em;"><span style="top:-2.6481em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">âˆ‚</span><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7741em;"><span style="top:-2.786em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">L</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">âˆ‚</span><span class="mord mathnormal mtight" style="margin-right:0.07153em;">C</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3519em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span> ï¼Œåˆ©ç”¨<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mi mathvariant="normal">âˆ‚</mi><mi>C</mi></mrow><mrow><mi mathvariant="normal">âˆ‚</mi><msup><mi>a</mi><mrow><mi>L</mi><mo>âˆ’</mo><mn>1</mn></mrow></msup></mrow></mfrac></mrow><annotation encoding="application/x-tex">\frac{\partial C}{\partial a^{L-1}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.232em;vertical-align:-0.3519em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8801em;"><span style="top:-2.6481em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">âˆ‚</span><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7741em;"><span style="top:-2.786em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">L</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">âˆ‚</span><span class="mord mathnormal mtight" style="margin-right:0.07153em;">C</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3519em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span> åˆå¯ä»¥è®¡ç®—å‡ºcostå‡½æ•°å¯¹L-1å±‚å„å‚æ•°çš„åå¯¼ï¼Œå¦‚æ­¤åå‘ä¼ æ’­ï¼Œè®¡ç®—å‡ºcostå‡½æ•°å¯¹æ‰€æœ‰å‚æ•°çš„åå¯¼æ•°ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>ç¥ç»ç½‘ç»œ</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç¥ç»ç½‘ç»œ</tag>
      
      <tag>åå‘ä¼ æ’­</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hello World</title>
    <link href="/2024/10/06/hello-world/"/>
    <url>/2024/10/06/hello-world/</url>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start">Quick Start</h2><h3 id="Create-a-new-post">Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo new <span class="hljs-string">&quot;My New Post&quot;</span><br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server">Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo server<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files">Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo generate<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites">Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo deploy<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
    
    
    
  </entry>
  
  
  
  
</search>
